/*!
 *  build: 杭州数蛙科技有限公司 
 *  copyright: dgiot_dashboard 
 *  time: Tue May 25 2021 17:26:51 GMT+0800 (GMT+08:00)
 */
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5674156b"],{"00b2":function(e,t,a){"use strict";a("f4cc")},"00f7":function(e,t,a){"use strict";a("3621")},"0907":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"roles"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:5}},[a("div",{staticClass:"leftTree"},[a("el-tree",{attrs:{data:e.deptTreeData,props:e.roleProps,"expand-on-click-node":!1,"node-key":"index","default-expand-all":""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,i=t.data;return a("div",{staticClass:"custom-tree-node"},[a("span",{class:{selected:i.objectId==e.curDepartmentId},on:{click:function(t){return e.handleNodeClick(i)}}},[e._v(" "+e._s(n.label)+" ")]),a("span",[a("i",{staticClass:"el-icon-circle-plus-outline",attrs:{title:e.$translateTitle("product.addrole")},on:{click:function(t){return e.setDialogRole(i)}}})])])}}])})],1)]),a("el-col",{attrs:{span:9}},[a("div",{staticClass:"rightTable"},[a("div",{staticClass:"search"},[a("el-input",{attrs:{placeholder:e.$translateTitle("user.rolename"),size:"mini",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.getRolesList(0)}}},[e._v(" "+e._s(e.$translateTitle("developer.search"))+" ")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.getRolesList()}}},[e._v(" "+e._s(e.$translateTitle("product.allroles"))+" ")])],1),a("div",{staticClass:"tableroles",staticStyle:{"margin-top":"20px"}},[a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{"highlight-current-row":"",data:e.roleList,"row-class-name":e.tableRowClassName,"row-style":e.selectedHighlight,size:"small"},on:{"row-click":e.getDetailmenu}},[a("el-table-column",{attrs:{label:e.$translateTitle("user.rolename"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{label:e.$translateTitle("user.Remarks"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.alias))])]}}])}),a("el-table-column",{attrs:{label:"ID",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.objectId))])]}}])}),a("el-table-column",{attrs:{label:e.$translateTitle("developer.operation"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-dropdown",{attrs:{"split-button":"",type:"primary",size:"medium"},on:{click:function(a){return e.exportRolerole(t.row)}}},[a("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.$translateTitle("product.modify"))+" ")]),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",{attrs:{icon:"el-icon-document"},nativeOn:{click:function(a){return e.exportRoletemp(t.row)}}},[e._v(" "+e._s(e.$translateTitle("product.savetemplate"))+" ")]),a("el-dropdown-item",{attrs:{icon:"el-icon-delete"},nativeOn:{click:function(a){return e.handleDelete(t.row)}}},[e._v(" "+e._s(e.$translateTitle("task.Delete"))+" ")])],1)],1)]}}])})],1),a("div",{staticClass:"rightPagination"},[a("el-pagination",{attrs:{total:e.total,layout:"prev, pager, next"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])]),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"rolefooter"},[a("div",{staticClass:"footerleft"},[a("p",{staticClass:"top"},[a("span",{staticClass:"svg-container"},[a("vab-icon",{attrs:{icon:"role_group"}})],1),a("span",[e._v(" "+e._s(e.$translateTitle("user.assignroles1"))+" ")])]),a("div",{staticClass:"rolecontrol"},[a("el-tree",{ref:"permissionTree",attrs:{data:e.permissionTreeData,"default-checked-keys":e.rolePermissonList,"expand-on-click-node":!1,"show-checkbox":"","node-key":"objectId","default-props":"",accordion:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(n.label))])])}}])})],1)]),a("div",{staticClass:"footerright"},[a("p",{staticClass:"top"},[a("span",{staticClass:"svg-container"},[a("vab-icon",{attrs:{icon:"menu_group"}})],1),a("span",[e._v(" "+e._s(e.$translateTitle("user.assignmenu"))+" ")])]),a("div",{staticClass:"menucontrol",staticStyle:{"margin-top":"30px"}},[a("el-tree",{ref:"menusTree",attrs:{data:e.menuTreeData,"default-checked-keys":e.roleMenuList,"expand-on-click-node":!1,"show-checkbox":"","node-key":"objectId","default-props":"",accordion:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,i=t.data;return a("span",{staticClass:"custom-tree-node"},[e._v(" "+e._s(i.title?i.title:n.label)+" ")])}}])})],1)])])])],1),a("el-dialog",{attrs:{visible:e.centerDialogRole,title:e.$translateTitle("product.addrole"),width:"20%",center:""},on:{close:e.closeDialogRole}},[a("addroles",{ref:"addRoleRef"})],1),a("el-dialog",{attrs:{title:e.$translateTitle("developer.add"),visible:e.dialogVisible,width:"50%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%","text-align":"center"},attrs:{data:e.tableDataroles},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:e.$translateTitle("user.name"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.name))])]}}])}),a("el-table-column",{attrs:{label:e.$translateTitle("user.Remarks"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.desc))])]}}])}),a("el-table-column",{attrs:{label:"ID",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.objectId))])]}}])})],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v(" "+e._s(e.$translateTitle("developer.cancel"))+" ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addacl}},[e._v(" "+e._s(e.$translateTitle("developer.determine"))+" ")])],1)],1),a("el-dialog",{attrs:{title:e.$translateTitle("developer.edit"),visible:e.roleEdit},on:{"update:visible":function(t){e.roleEdit=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:e.$translateTitle("user.rolename"),"label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"300px"},attrs:{autocomplete:"off",disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("user.Remarks"),"label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"300px"},attrs:{autocomplete:"off"},model:{value:e.form.alias,callback:function(t){e.$set(e.form,"alias",t)},expression:"form.alias"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("developer.describe"),"label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"300px"},attrs:{rows:2,autocomplete:"off",type:"textarea"},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.roleEdit=!1}}},[e._v(" "+e._s(e.$translateTitle("developer.cancel"))+" ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updaterole}},[e._v(" "+e._s(e.$translateTitle("developer.determine"))+" ")])],1)],1)],1)},i=[],s=a("1da1"),l=(a("96cf"),a("4de4"),a("d81d"),a("b0c0"),a("a9e3"),a("159b"),a("5da9")),r=a("bc35"),o=a("1ec2"),c=a("3858"),u={name:"Role",data:function(){return{deptTreeData:[],curDepartmentId:"",formLabelWidth:"120px",roleEdit:!1,form:{name:"",alias:"",desc:""},data:[],dialogVisible:!1,multipleSelection:[],search:"",total:0,pagesize:10,start:0,roleList:[],tableDataroles:[],centerDialogVisible:!1,editroleid:"",currentSelectIndex:null,roleProps:{children:"children",label:"name"},checkMenus:[],checkRoles:[],dataMenus:[],roleMenuList:[],dataPermissions:[],rolePermissonList:[],loadingService:{},roleItem:[],centerDialogRole:!1}},computed:{permissionTreeData:function(){var e=JSON.parse(JSON.stringify(this.dataPermissions));return e.filter((function(t){var a=e.filter((function(e){return t.objectId==e.parentId}));return a.length>0&&(t.children=a),0==t.parentId}))},menuTreeData:function(){var e=JSON.parse(JSON.stringify(this.dataMenus));return e.filter((function(t){t.title=t.meta&&t.meta.title?t.meta.title:"";var a=e.filter((function(e){return t.objectId==e.parentId}));return a.length>0&&(t.children=a),0==t.parentId}))}},components:{addroles:c["default"]},mounted:function(){var e=this;this.getRolesList(),this.getMenu(),this.getRoleschema(),this.$baseEventBus.$on("dialogHide",(function(){e.centerDialogRole=!1,e.getMenu()}))},methods:{getMenu:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.data=[],e.dataMenus=[],t.next=4,Object(r["queryMenu"])({});case 4:return a=t.sent,n=a.results,n&&(e.menuListRes=n,n.map((function(t){var a={};a.label=t.name,a.meta=t.meta,a.objectId=t.objectId,a.parentId=t.parent.objectId,a.createtime=new Date(t.createdAt).toLocaleDateString(),e.data.push(a),e.dataMenus.push(a)}))),t.next=9,Object(r["Roletree"])();case 9:i=t.sent,i?(e.deptTreeData=i.results,e.handleNodeClick(e.deptTreeData[0])):(e.$message("部门列表获取失败"),e.deptTreeData=[]);case 11:case"end":return t.stop()}}),t)})))()},diguiquchu:function(e,t,a,n){var i=this;t.map((function(t){t.key==a&&t.children.length>0?(n.push(a),i.diguiquchu(e,t.children,a,n)):t.key!=a&&t.children.length>0&&i.diguiquchu(e,t.children,a,n)}))},add:function(){this.$router.push({path:"roles/editroles",query:{insert:0}})},handleSelectionChange:function(e){this.multipleSelection=e},addacl:function(){this.$get_object("_Role",this.objectId).then((function(e){}))},handleClose:function(){this.dialogVisible=!1},handleDelete:function(e){var t=this;this.$confirm("此操作将永久删除此角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.delConfirm(e.objectId)})).catch((function(){}))},delConfirm:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["delRole"])(e);case 2:n=a.sent,n&&(t.$message({type:"success",message:"删除成功!"}),t.getRolesList(),t.getMenu());case 4:case"end":return a.stop()}}),a)})))()},addmenu:function(e){this.rolename=e.attributes.name,this.getMenu()},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.index=a},selectedHighlight:function(e){e.row;var t=e.rowIndex;if(this.currentSelectIndex===t)return{color:"#409EFF","font-weight":"bold"}},getDetailmenu:function(e,t,a,n){var i=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,s,r,o,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!t||"操作"!=t.label){a.next=2;break}return a.abrupt("return");case 2:return i.loadingService=i.$loading({lock:!0,text:"数据加载中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.6)"}),i.currentSelectIndex=e.index,a.next=6,Object(l["roleMenu"])(e.name);case 6:n=a.sent,s=n.menus,r=n.rules,o=n.roles,c=n.users,u=n.objectId,i.roleItem={menus:s,rules:r,users:c,roles:o,objectId:u},i.loadingService.close(),s&&r?(i.checkMenus=s,i.checkRoles=r,i.doSetChecked()):i.$message({type:"warning",message:"获取角色菜单失败"});case 15:case"end":return a.stop()}}),a)})))()},doSetChecked:function(){var e=this;this.roleMenuList=[],this.rolePermissonList=[],this.menuListRes.map((function(t){e.checkMenus.map((function(a){t.name==a.name&&e.roleMenuList.push(t.objectId)}))})),this.$refs.menusTree.setCheckedKeys(this.roleMenuList),this.permissionListRes.map((function(t){e.checkRoles.map((function(a){t.name===a.name&&e.rolePermissonList.push(t.objectId)}))})),this.$refs.permissionTree.setCheckedKeys(this.rolePermissonList)},getRolesList:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i,s,r,o,c,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return 0==e&&(a.start=0),i={},t&&"admin"!=t.name&&(i.objectId=t.objectId),s=a.$loading({background:"rgba(0, 0, 0, 0.5)"}),r={skip:a.start,limit:a.pagesize,order:"-createdAt",where:i,count:"objectId"},n.next=7,Object(l["queryRole"])(r);case 7:o=n.sent,c=o.results,u=o.count,c&&(s.close(),a.roleList=c,a.total=u);case 11:case"end":return n.stop()}}),n)})))()},handleSizeChange:function(e){this.pagesize=e,this.getRolesList()},handleCurrentChange:function(e){this.start=Number(e-1)*Number(this.pagesize),this.getRolesList()},handleCheckChange:function(e,t){},getRoleschema:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dataPermissions=[],t.next=3,Object(o["Permission"])();case 3:a=t.sent,n=a.results,n&&(e.permissionListRes=n,n.map((function(t){var a={};a.label=t.alias,a.alias=t.name,a.objectId=t.objectId,a.parentId=t.parent.objectId,a.createtime=new Date(t.createdAt).toLocaleDateString(),e.dataPermissions.push(a)})));case 6:case"end":return t.stop()}}),t)})))()},getCheckedKeys:function(e,t,a){var n=[];return i(e,!1),n;function i(e,s){for(var l=[],r=0;r<e.length;r++){var o=e[r];l[r]=!1,o.children&&(l[r]=!!i(o.children,!0)||l[r],l[r]&&n.push(o));for(var c=0;c<t.length;c++)if(o[a]==t[c]){l[r]=!0,-1==n.indexOf(o[a])&&n.push(o);break}}if(s)return-1!=l.indexOf(!0)}},exportRolerole:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i,s,r,o,c,u,d,p;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=[],i=t.getCheckedKeys(t.menuTreeData,t.$refs.menusTree.getCheckedKeys(),"objectId"),s=[],r=[],o=[],c=t.$refs.permissionTree.getCheckedNodes(),u=t.roleItem.roles,d=t.roleItem.users,d&&u){a.next=11;break}return t.$message({message:"未选择正确的角色"}),a.abrupt("return",!1);case 11:if(d.forEach((function(e){s.push(e.username)})),u.forEach((function(e){r.push(e.name)})),!i||!c){a.next=22;break}return i.forEach((function(e){n.push(e.label)})),c.forEach((function(e){o.push(e.alias)})),a.next=18,Object(l["saveRole"])({objectId:t.roleItem.objectId,name:e.name,alias:e.alias,desc:e.desc,rules:o,menus:n,roles:r,users:s});case 18:p=a.sent,p?t.$message("角色信息更新成功"):t.$message({message:"更新失败!"}),a.next=23;break;case 22:t.$message("请选择菜单列表和权限列表");case 23:case"end":return a.stop()}}),a)})))()},exportRoletemp:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(l["saveRoletemp"])(e.name);case 2:n=a.sent,n&&t.$message({type:"success",message:"保存模板成功"});case 4:case"end":return a.stop()}}),a)})))()},updaterole:function(){var e=this,t={alias:this.form.alias,desc:this.form.desc};this.$update_object(this.editroleid,t).then((function(t){e.$message({type:"success",message:"更新成功"}),e.roleEdit=!1,e.getRolesList()}))},handleNodeClick:function(e){this.getRolesList(0,e),this.curDepartmentId=e.objectId,this.currentSelectIndex=null},appendChildTree:function(e){},renderContent:function(e,t){var a=this,n=t.node,i=t.data;t.store;return e("span",{class:"custom-tree-node"},[e("span",[n.label]),e("span",[e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return a.appendChildTree(i)}}},[e("i",{class:"el-icon-plus"})])])])},setDialogRole:function(e){var t=this;this.centerDialogRole=!0,this.$nextTick((function(){t.$refs["addRoleRef"].getData(e)}))},closeDialogRole:function(){this.centerDialogRole=!1}}},d=u,p=(a("30da"),a("bb1d"),a("2877")),m=Object(p["a"])(d,n,i,!1,null,"105f0ab1",null);t["default"]=m.exports},"0c99":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login-container"},[a("div",{staticClass:"loginbanner"},[a("el-form",{ref:"ruleForm2",staticClass:"login-form",attrs:{model:e.ruleForm2,rules:e.rules2,"status-icon":"","label-width":"100px"}},[a("div",{staticClass:"logo"},[a("img",{staticStyle:{width:"80px",height:"80px"},attrs:{src:e.logosrc,alt:"logo"}}),a("p",[e._v(e._s(e.title))])]),a("el-form-item",{attrs:{prop:"phone"}},[a("span",{staticClass:"svg-container"},[a("vab-icon",{attrs:{icon:"user"}})],1),a("el-input",{attrs:{maxlength:11,name:"phone",type:"text","auto-complete":"on",clearable:"",placeholder:"请输入手机号"},model:{value:e.ruleForm2.phone,callback:function(t){e.$set(e.ruleForm2,"phone",t)},expression:"ruleForm2.phone"}})],1),a("el-form-item",{attrs:{prop:"password",required:""}},[a("span",{staticClass:"svg-container"},[a("vab-icon",{attrs:{icon:"password"}})],1),a("el-input",{attrs:{type:e.pwdType,name:"password","auto-complete":"on",placeholder:"请输入密码"},model:{value:e.ruleForm2.password,callback:function(t){e.$set(e.ruleForm2,"password",t)},expression:"ruleForm2.password"}}),a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("vab-icon",{attrs:{icon:"eye"}})],1)],1),a("el-form-item",{attrs:{prop:"checkPass",required:""}},[a("span",{staticClass:"svg-container"},[a("vab-icon",{attrs:{icon:"password"}})],1),a("el-input",{attrs:{type:e.pwdType,"auto-complete":"on",placeholder:"请再次输入密码"},model:{value:e.ruleForm2.checkPass,callback:function(t){e.$set(e.ruleForm2,"checkPass",t)},expression:"ruleForm2.checkPass"}}),a("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[a("vab-icon",{attrs:{icon:"eye"}})],1)],1),a("el-form-item",{staticStyle:{"margin-top":"50px"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%","letter-spacing":"10px"},attrs:{type:"primary","element-loading-text":"正在初始化环境,请稍后","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)"},on:{click:function(t){return e.submitForm("ruleForm2")}}},[e._v(" 立即注册 ")])],1),a("div",{staticClass:"hasuser"},[a("span",{staticStyle:{"font-size":"14px",color:"#409eff",cursor:"pointer"},on:{click:e.login}},[e._v(" 已有账号登陆 ")])])],1)],1)])},i=[],s=(a("d3b7"),a("25f0"),a("be65")),l=a.n(s),r=a("f43e").Base64,o={data:function(){var e=this,t=function(e,t,a){""===t?a(new Error("请输入密码")):(/^\w{8,20}/.test(t)||a(new Error("密码长度为8-20位")),a())},a=function(t,a,n){""===a?n(new Error("请再次输入密码")):a!==e.ruleForm2.password?n(new Error("两次输入密码不一致!")):n()};return{fullscreenLoading:!1,time:60,sendMsgDisabled:!1,logosrc:"",title:"",ruleForm2:{account:"",phone:"",username:"",password:"",email:"",checkPass:"",roles:""},pwdType:"password",protype:"",rules2:{account:[{required:!0,message:"请输入账号",trigger:"blur"},{min:1,max:10,message:"长度在 1到 10 个字符",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{validator:function(e,t,a){var n=/^1[3-9]\d{9}$/;n.test(t)?a():a(new Error("手机号码格式不正确！"))},trigger:"blur"}],password:[{validator:t,trigger:"blur",required:!0}],checkPass:[{validator:a,trigger:"blur",required:!0}],username:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:5,message:"姓名格式不正确",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],roles:[{required:!0,message:"请选择平台",trigger:"change"}]}}},mounted:function(){this.protype=sessionStorage.getItem("roletype"),this.title=sessionStorage.getItem("product_title"),this.logosrc=sessionStorage.getItem("imgsrc")},methods:{showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},login:function(){this.$router.push({path:"/login"})},submitForm:function(e){var t=this,a=/^1[3-9]\d{9}$/;this.$refs[e].validate((function(e){if(!e)return t.$message({message:"信息错误",type:"error"}),!1;var n=new Parse.User;n.set("username",t.ruleForm2.phone.toString()),n.set("password",t.ruleForm2.password),a.test(t.ruleForm2.phone)?n.set("phone",t.ruleForm2.phone.toString()):n.set("phone",""),t.fullscreenLoading=!0,n.set("productId",t.protype);new Parse.ACL;n.save().then((function(e){l.a.set("sessionToken",e.attributes.sessionToken),t.$router.push({path:"/phonelogin",query:{phone:r.encode(t.ruleForm2.phone),action:"register"}}),t.fullscreenLoading=!1})).catch((function(e){202==e.code?t.$message({message:"用户名已存在",type:"error"}):t.$message({message:e.message,type:"error"}),t.fullscreenLoading=!1}))}))},send:function(){var e=this;e.sendMsgDisabled=!0;var t=window.setInterval((function(){e.time--<=0&&(e.time=60,e.sendMsgDisabled=!1,window.clearInterval(t))}),1e3)}}},c=o,u=(a("b3ec"),a("252c"),a("00b2"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,"9e8e9dfe",null);t["default"]=d.exports},"0f97":function(e,t,a){"use strict";a("7aa8")},"153b":function(e,t,a){"use strict";a("4a21")},"1a25":function(e,t,a){e.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#282c34","column-second-menu-background":"#fff"}},"1aa0":function(e,t,a){},"22d3":function(e,t,a){"use strict";a("66af")},"252c":function(e,t,a){"use strict";a("cf09")},"27f6":function(e,t,a){e.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#282c34","column-second-menu-background":"#fff"}},"29c3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"BasicInfo"},[a("el-form",{ref:"formRef",attrs:{inline:!0,model:e.BasicInfoObj,disabled:"",size:"small","label-width":"75px"}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"产品名称"}},[a("el-select",{staticStyle:{width:"100px"},attrs:{filterable:"","allow-create":"","default-first-option":"",clearable:"",placeholder:"请选择"},model:{value:e.BasicInfoObj.chanpinName,callback:function(t){e.$set(e.BasicInfoObj,"chanpinName",t)},expression:"BasicInfoObj.chanpinName"}},e._l(e.defaultObj.productOpt,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"水泵型号"}},[a("el-input",{staticClass:"eipt",staticStyle:{width:"127px"},model:{value:e.BasicInfoObj.chanpinxh,callback:function(t){e.$set(e.BasicInfoObj,"chanpinxh",t)},expression:"BasicInfoObj.chanpinxh"}})],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"出厂编号"}},[a("el-input",{staticClass:"eipt",model:{value:e.BasicInfoObj.chuchangbh,callback:function(t){e.$set(e.BasicInfoObj,"chuchangbh",t)},expression:"BasicInfoObj.chuchangbh"}})],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"报告编号"}},[a("el-input",{staticClass:"eipt",model:{value:e.BasicInfoObj.bianhao,callback:function(t){e.$set(e.BasicInfoObj,"bianhao",t)},expression:"BasicInfoObj.bianhao"}})],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:8}},[a("el-form-item",{attrs:{label:"大气压"}},[a("el-input",{staticClass:"eipt",staticStyle:{width:"200px"},model:{value:e.BasicInfoObj.daqiya,callback:function(t){e.$set(e.BasicInfoObj,"daqiya",t)},expression:"BasicInfoObj.daqiya"}},[a("template",{slot:"append"},[e._v("标准大气压")])],2)],1)],1)],1),a("el-row",{staticStyle:{height:"50px","line-height":"50px"}},[a("el-col",{attrs:{span:2}},[a("span",[e._v("主要检测设备")])]),a("el-col",{attrs:{span:22}},[e._l(e.BasicInfoObj.dynamicTags,(function(t){return a("el-tag",{key:t,attrs:{"disable-transitions":!1,closable:""},on:{close:function(a){return e.handleClose(t)}}},[e._v(" "+e._s(t)+" ")])})),e.inputVisible?a("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleInputConfirm(t)}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):a("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showInput}},[e._v(" 添加 ")])],2)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"气温"}},[a("el-input",{staticClass:"eipt",staticStyle:{width:"127px"},model:{value:e.BasicInfoObj.qiwen,callback:function(t){e.$set(e.BasicInfoObj,"qiwen",t)},expression:"BasicInfoObj.qiwen"}},[a("template",{slot:"append"},[e._v("℃")])],2)],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"水温"}},[a("el-input",{staticClass:"eipt",model:{value:e.BasicInfoObj.shuiwen,callback:function(t){e.$set(e.BasicInfoObj,"shuiwen",t)},expression:"BasicInfoObj.shuiwen"}},[a("template",{slot:"append"},[e._v("℃")])],2)],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"湿度"}},[a("el-input",{staticClass:"eipt",model:{value:e.BasicInfoObj.shidu,callback:function(t){e.$set(e.BasicInfoObj,"shidu",t)},expression:"BasicInfoObj.shidu"}},[a("template",{slot:"append"},[e._v("%")])],2)],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"样品等级"}},[a("el-input",{staticClass:"eipt",model:{value:e.BasicInfoObj.yangpindengji,callback:function(t){e.$set(e.BasicInfoObj,"yangpindengji",t)},expression:"BasicInfoObj.yangpindengji"}})],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"生产日期"}},[a("el-date-picker",{staticStyle:{width:"140px","font-size":"12px"},attrs:{type:"date",format:"yyyy年MM月dd日"},model:{value:e.BasicInfoObj.shengchangData,callback:function(t){e.$set(e.BasicInfoObj,"shengchangData",t)},expression:"BasicInfoObj.shengchangData"}})],1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"检测地点"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{filterable:"","allow-create":"","default-first-option":"",clearable:"",placeholder:"请选择"},model:{value:e.BasicInfoObj.jianyandidian,callback:function(t){e.$set(e.BasicInfoObj,"jianyandidian",t)},expression:"BasicInfoObj.jianyandidian"}},[a("el-option",{attrs:{label:"台州新华泵业制造有限公司",value:"台州新华泵业制造有限公司"}})],1)],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"检测人员"}},[a("el-input",{staticClass:"eipt",staticStyle:{width:"127px"},model:{value:e.BasicInfoObj.jianceren,callback:function(t){e.$set(e.BasicInfoObj,"jianceren",t)},expression:"BasicInfoObj.jianceren"}})],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"批准人"}},[a("el-input",{staticClass:"eipt",model:{value:e.BasicInfoObj.pizhunren,callback:function(t){e.$set(e.BasicInfoObj,"pizhunren",t)},expression:"BasicInfoObj.pizhunren"}})],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"审核人"}},[a("el-input",{staticClass:"eipt",model:{value:e.BasicInfoObj.shenheren,callback:function(t){e.$set(e.BasicInfoObj,"shenheren",t)},expression:"BasicInfoObj.shenheren"}})],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"检验性质"}},[a("el-input",{staticClass:"eipt",model:{value:e.BasicInfoObj.jianyanxingzhi,callback:function(t){e.$set(e.BasicInfoObj,"jianyanxingzhi",t)},expression:"BasicInfoObj.jianyanxingzhi"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送样单位"}},[a("el-select",{staticClass:"ep50",attrs:{filterable:"","allow-create":"","default-first-option":"",clearable:"",placeholder:""},model:{value:e.BasicInfoObj.songyangdanwei,callback:function(t){e.$set(e.BasicInfoObj,"songyangdanwei",t)},expression:"BasicInfoObj.songyangdanwei"}},[a("el-option",{attrs:{label:"台州新华泵业制造有限公司",value:"台州新华泵业制造有限公司"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"检验项目"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.BasicInfoObj.jianyanxiangmu,callback:function(t){e.$set(e.BasicInfoObj,"jianyanxiangmu",t)},expression:"BasicInfoObj.jianyanxiangmu"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{attrs:{placeholder:""},model:{value:e.BasicInfoObj.lianxidh,callback:function(t){e.$set(e.BasicInfoObj,"lianxidh",t)},expression:"BasicInfoObj.lianxidh"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生产单位"}},[a("el-select",{staticClass:"ep50",attrs:{filterable:"","allow-create":"","default-first-option":"",clearable:"",placeholder:""},model:{value:e.BasicInfoObj.shengchanN,callback:function(t){e.$set(e.BasicInfoObj,"shengchanN",t)},expression:"BasicInfoObj.shengchanN"}},[a("el-option",{attrs:{label:"台州新华泵业制造有限公司",value:"台州新华泵业制造有限公司"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位地址"}},[a("el-select",{staticClass:"ep50",attrs:{filterable:"","allow-create":"","default-first-option":"",clearable:"",placeholder:""},model:{value:e.BasicInfoObj.scdwAdrr,callback:function(t){e.$set(e.BasicInfoObj,"scdwAdrr",t)},expression:"BasicInfoObj.scdwAdrr"}},[a("el-option",{attrs:{label:"温岭市大溪镇",value:"温岭市大溪镇"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"委托单位"}},[a("el-select",{staticClass:"ep50",attrs:{filterable:"","allow-create":"","default-first-option":"",clearable:"",placeholder:""},model:{value:e.BasicInfoObj.weituodanwei,callback:function(t){e.$set(e.BasicInfoObj,"weituodanwei",t)},expression:"BasicInfoObj.weituodanwei"}},[a("el-option",{attrs:{label:"台州新华泵业制造有限公司",value:"台州新华泵业制造有限公司"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位地址"}},[a("el-select",{staticClass:"ep50",attrs:{filterable:"","allow-create":"","default-first-option":"",clearable:"",placeholder:""},model:{value:e.BasicInfoObj.wtdwAdrr,callback:function(t){e.$set(e.BasicInfoObj,"wtdwAdrr",t)},expression:"BasicInfoObj.wtdwAdrr"}},[a("el-option",{attrs:{label:"温岭市大溪镇",value:"温岭市大溪镇"}})],1)],1)],1)],1),a("el-row",[a("el-col",{staticStyle:{height:"70px","line-height":"70px","margin-bottom":"16px"},attrs:{span:24}},[a("el-row",[a("el-col",{attrs:{span:2}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",placement:"top-start"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v(" 检验依据类型,例如 "),a("br"),e._v(" JB/T 6878-2006 "),a("br"),e._v(" GB/T 3216-2016 "),a("br"),e._v(" GB/T 29531-2013 "),a("br"),e._v(" GB/T 29529-2013 ")]),a("span",{staticClass:"el-icon-question"},[e._v("检验依据")])])],1),a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{rows:2,type:"textarea"},model:{value:e.BasicInfoObj.jianyanyiju,callback:function(t){e.$set(e.BasicInfoObj,"jianyanyiju",t)},expression:"BasicInfoObj.jianyanyiju"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"签发日期"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy 年 MM 月 dd 日"},model:{value:e.BasicInfoObj.qianfaData,callback:function(t){e.$set(e.BasicInfoObj,"qianfaData",t)},expression:"BasicInfoObj.qianfaData"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"批准人"}},[a("el-input",{model:{value:e.BasicInfoObj.pizun,callback:function(t){e.$set(e.BasicInfoObj,"pizun",t)},expression:"BasicInfoObj.pizun"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"审核人"}},[a("el-input",{model:{value:e.BasicInfoObj.shenhe,callback:function(t){e.$set(e.BasicInfoObj,"shenhe",t)},expression:"BasicInfoObj.shenhe"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"编制人"}},[a("el-input",{model:{value:e.BasicInfoObj.bianzhi,callback:function(t){e.$set(e.BasicInfoObj,"bianzhi",t)},expression:"BasicInfoObj.bianzhi"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"抽样地点"}},[a("el-select",{staticClass:"ep50",attrs:{filterable:"","allow-create":"","default-first-option":"",clearable:"",placeholder:""},model:{value:e.BasicInfoObj.chouyangAddr,callback:function(t){e.$set(e.BasicInfoObj,"chouyangAddr",t)},expression:"BasicInfoObj.chouyangAddr"}},[a("el-option",{attrs:{label:"台州新华泵业制造有限公司",value:"台州新华泵业制造有限公司"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"抽样基数"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.BasicInfoObj.chouyangjishu,callback:function(t){e.$set(e.BasicInfoObj,"chouyangjishu",t)},expression:"BasicInfoObj.chouyangjishu"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"抽样日期"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy 年 MM 月 dd 日"},model:{value:e.BasicInfoObj.chouyangData,callback:function(t){e.$set(e.BasicInfoObj,"chouyangData",t)},expression:"BasicInfoObj.chouyangData"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"抽样数量"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.BasicInfoObj.chouyangNum,callback:function(t){e.$set(e.BasicInfoObj,"chouyangNum",t)},expression:"BasicInfoObj.chouyangNum"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"到样日期"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy 年 MM 月 dd 日"},model:{value:e.BasicInfoObj.daoyangData,callback:function(t){e.$set(e.BasicInfoObj,"daoyangData",t)},expression:"BasicInfoObj.daoyangData"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"检验日期"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy 年 MM 月 dd 日"},model:{value:e.BasicInfoObj.jianyanData,callback:function(t){e.$set(e.BasicInfoObj,"jianyanData",t)},expression:"BasicInfoObj.jianyanData"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"样品状况"}},[a("el-input",{model:{value:e.BasicInfoObj.yangpinzhuangtai,callback:function(t){e.$set(e.BasicInfoObj,"yangpinzhuangtai",t)},expression:"BasicInfoObj.yangpinzhuangtai"}})],1)],1)],1),a("el-row",{staticClass:"beizhu"},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"电机规格"}},[a("el-input",{model:{value:e.BasicInfoObj.guige,callback:function(t){e.$set(e.BasicInfoObj,"guige",t)},expression:"BasicInfoObj.guige"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"电机效率"}},[a("el-input",{model:{value:e.BasicInfoObj.xiaolv,callback:function(t){e.$set(e.BasicInfoObj,"xiaolv",t)},expression:"BasicInfoObj.xiaolv"}},[a("template",{slot:"append"},[e._v("%")])],2)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"样品编号"}},[a("el-input",{model:{value:e.BasicInfoObj.yangpinbianhao,callback:function(t){e.$set(e.BasicInfoObj,"yangpinbianhao",t)},expression:"BasicInfoObj.yangpinbianhao"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"样品状况"}},[a("el-input",{model:{value:e.BasicInfoObj.yangpinzhuangkuang,callback:function(t){e.$set(e.BasicInfoObj,"yangpinzhuangkuang",t)},expression:"BasicInfoObj.yangpinzhuangkuang"}})],1)],1)],1),a("el-row",{staticClass:"beizhu"},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"试验人员"}},[a("el-input",{model:{value:e.BasicInfoObj.shiyanName,callback:function(t){e.$set(e.BasicInfoObj,"shiyanName",t)},expression:"BasicInfoObj.shiyanName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"试验日期"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy 年 MM 月 dd 日"},model:{value:e.BasicInfoObj.shiyanDateTime,callback:function(t){e.$set(e.BasicInfoObj,"shiyanDateTime",t)},expression:"BasicInfoObj.shiyanDateTime"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"送样人员"}},[a("el-input",{model:{value:e.BasicInfoObj.songyangrenyuan,callback:function(t){e.$set(e.BasicInfoObj,"songyangrenyuan",t)},expression:"BasicInfoObj.songyangrenyuan"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"送样日期"}},[a("el-date-picker",{attrs:{type:"date",format:"yyyy 年 MM 月 dd 日"},model:{value:e.BasicInfoObj.songyangDateTime,callback:function(t){e.$set(e.BasicInfoObj,"songyangDateTime",t)},expression:"BasicInfoObj.songyangDateTime"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("el-form-item",{staticStyle:{width:"100%",display:"block"},attrs:{label:"验收等级"}},[a("el-input",{model:{value:e.BasicInfoObj.yanshoudengji,callback:function(t){e.$set(e.BasicInfoObj,"yanshoudengji",t)},expression:"BasicInfoObj.yanshoudengji"}})],1)],1),a("el-col",{staticStyle:{height:"70px","line-height":"70px","margin-bottom":"16px"},attrs:{span:24}},[a("el-row",[a("el-col",{attrs:{span:2}},[a("span",[e._v("检验结论")])]),a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{rows:2,type:"textarea"},model:{value:e.BasicInfoObj.jiancejielun,callback:function(t){e.$set(e.BasicInfoObj,"jiancejielun",t)},expression:"BasicInfoObj.jiancejielun"}})],1)],1)],1)],1),a("el-row",{staticClass:"beizhu1"},[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{width:"100%",display:"block"},attrs:{label:"备注"}},[a("el-input",{attrs:{rows:2,autosize:{minRows:1,maxRows:1},type:"textarea",placeholder:"备注"},model:{value:e.BasicInfoObj.beizhu,callback:function(t){e.$set(e.BasicInfoObj,"beizhu",t)},expression:"BasicInfoObj.beizhu"}})],1)],1)],1)],1)],1)},i=[],s=a("5530"),l=(a("a434"),a("5880")),r=a("eb2f"),o={name:"SouthBasicInfo",data:function(){return{test:"aaaa",defaultObj:{productOpt:[{value:"中开泵",label:"中开泵"},{value:"多级泵",label:"多级泵"},{value:"斜流泵",label:"斜流泵"},{value:"长轴泵",label:"长轴泵"},{value:"渣浆泵",label:"渣浆泵"},{value:"中开多级泵",label:"中开多级泵"},{value:"液下多级泵",label:"液下多级泵"},{value:"离心泵",label:"离心泵"},{value:"多级离心泵",label:"多级离心泵"},{value:"输油管线泵",label:"输油管线泵"},{value:"立式多级泵",label:"立式多级泵"},{value:"潜水泵",label:"潜水泵"},{value:"轴流泵",label:"轴流泵"},{value:"中开泵 Axially split pump",label:"中开泵 Axially split pump"},{value:"多级泵 Multistage pump",label:"多级泵 Multistage pump"},{value:"斜流泵 Diagonal flow pump",label:"斜流泵 Diagonal flow pump"},{value:"立式长轴泵 Vertical long shaft pump",label:"立式长轴泵 Vertical long shaft pump"},{value:"脱硫泵 Desulphurization pump",label:"脱硫泵 Desulphurization pump"},{value:"渣浆泵 Slurry pump",label:"渣浆泵 Slurry pump"},{value:"中开多级泵 Intermediate stage pump",label:"中开多级泵 Intermediate stage pump"},{value:"液下多级泵 Lower level pump",label:"液下多级泵 Lower level pump"},{value:"离心泵 Centrifugal pump",label:"离心泵 Centrifugal pump"},{value:"多级离心泵 Multistage centrifugal pump",label:"多级离心泵 Multistage centrifugal pump"},{value:"输油管线泵 Pipline pump",label:"输油管线泵 Pipline pump"},{value:"立式多级泵 Vertical multistage pump",label:"立式多级泵 Vertical multistage pump"},{value:"潜水泵 Immersible pump",label:"潜水泵 Immersible pump"},{value:"轴流泵 Axial flow pump",label:"轴流泵 Axial flow pump"},{value:"混流泵 Mixed-flow pump",label:"混流泵 Mixed-flow pump"}]},inputVisible:!1,inputValue:"",BasicInfoObj:{pizhunren:"",jianceren:"",shenheren:"",wendu:"",daqiya:"",yanshoudengji:"",pizun:"",shenhe:"",bianzhi:"",qianfaData:"",jianyanyiju:"",jianyanData:"",yangpinzhuangtai:"",daoyangData:"",chouyangNum:"",chouyangAdrr:"厂成品库",chouyangData:"",shengchangData:"",yangpinName:"",jianyanxingzhi:"委托校验",dynamicTags:[],chanpinName:"/",chanpinxh:"/",chuchangbh:"/",bianhao:"/",qiwen:"/",shuiwen:"",shidu:"",yangpindengji:"",jianyandidian:"",chanpinbianhao:"/",songyangdanwei:"/",jianyanxiangmu:"",lianxidh:"",shengchanN:"/",scdwAdrr:"/",weituodanwei:"/",wtdwAdrr:"/",jianyanbiaozhun:"/",chouyangAddr:"/",chouyangjishu:"0",guige:"/",xiaolv:"/",yangpinbianhao:"/",yangpinzhuangkuang:"",dengji:"/",shiyanName:"/",shiyanDateTime:"",songyangrenyuan:"",songyangDateTime:"",jiancejielun:"",beizhu:"/"},formRule:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}]}}},computed:Object(s["a"])({taskid:function(){return this.$route.query.taskid},fileDomain:function(){return this.$getUrlPrefix(this.$Cookies.get("fileserver"))}},Object(l["mapState"])({currentTask:function(e){return e.deviceData.currentTask}})),created:function(){},mounted:function(){r["eventBus"].$on("taskdialog",this.resetForm)},beforeDestroy:function(){r["eventBus"].$off("taskdialog")},methods:{resetForm:function(e){this.$refs["formRef"].resetFields()},fillFormData:function(e){Object.assign(this.BasicInfoObj,e)},handleClose:function(e){this.BasicInfoObj.dynamicTags.splice(this.BasicInfoObj.dynamicTags.indexOf(e),1)},showInput:function(){var e=this;this.inputVisible=!0,this.$nextTick((function(t){e.$refs.saveTagInput.$refs.input.focus()}))},handleInputConfirm:function(){var e=this.inputValue;e&&this.BasicInfoObj.dynamicTags.push(e),this.inputVisible=!1,this.inputValue=""}}},c=o,u=(a("00f7"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=d.exports},"2ee3":function(e,t,a){e.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#282c34","column-second-menu-background":"#fff"}},"30da":function(e,t,a){"use strict";a("85b2")},3536:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"BasicInfo"},[a("el-form",{ref:"formRef",attrs:{inline:!0,model:e.TableInfoObj,size:"small",disabled:""}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"试验台位"}},[a("el-select",{model:{value:e.TableInfoObj.taiwei,callback:function(t){e.$set(e.TableInfoObj,"taiwei",t)},expression:"TableInfoObj.taiwei"}},e._l(e.defaultObj.sytw,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"试验类型"}},[a("el-select",{model:{value:e.TableInfoObj.leixing,callback:function(t){e.$set(e.TableInfoObj,"leixing",t)},expression:"TableInfoObj.leixing"}},e._l(e.defaultObj.sylx,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"功率测量"}},[a("el-select",{model:{value:e.TableInfoObj.Wtest,callback:function(t){e.$set(e.TableInfoObj,"Wtest",t)},expression:"TableInfoObj.Wtest"}},e._l(e.defaultObj.glcl,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"进口扬程算法"}},[a("el-row",[a("el-col",{attrs:{span:18}},[a("el-select",{model:{value:e.TableInfoObj.jinkouyangchengsuanfa,callback:function(t){e.$set(e.TableInfoObj,"jinkouyangchengsuanfa",t)},expression:"TableInfoObj.jinkouyangchengsuanfa"}},e._l(e.defaultObj.jcycsf,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-col",{attrs:{span:4,offset:2}},[a("el-checkbox",{model:{value:e.TableInfoObj.shifoujieyeweiji,callback:function(t){e.$set(e.TableInfoObj,"shifoujieyeweiji",t)},expression:"TableInfoObj.shifoujieyeweiji"}},[e._v(" 是否接液位计 ")])],1)],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"流量测量","label-width":"120px"}},[a("el-input",{staticClass:"ipw",model:{value:e.TableInfoObj.Qtest,callback:function(t){e.$set(e.TableInfoObj,"Qtest",t)},expression:"TableInfoObj.Qtest"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"扭矩测量","label-width":"120px"}},[a("el-input",{staticClass:"ipw",model:{value:e.TableInfoObj.niujuceliang,callback:function(t){e.$set(e.TableInfoObj,"niujuceliang",t)},expression:"TableInfoObj.niujuceliang"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"转速测量","label-width":"120px"}},[a("el-input",{staticClass:"ipw",model:{value:e.TableInfoObj.Ntest,callback:function(t){e.$set(e.TableInfoObj,"Ntest",t)},expression:"TableInfoObj.Ntest"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"进口压力测量","label-width":"120px"}},[a("el-input",{staticClass:"ipw",model:{value:e.TableInfoObj.inputPa,callback:function(t){e.$set(e.TableInfoObj,"inputPa",t)},expression:"TableInfoObj.inputPa"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"出口压力测量","label-width":"120px"}},[a("el-input",{staticClass:"ipw",model:{value:e.TableInfoObj.outputPa,callback:function(t){e.$set(e.TableInfoObj,"outputPa",t)},expression:"TableInfoObj.outputPa"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"振动测量","label-width":"120px"}},[a("el-input",{staticClass:"ipw",model:{value:e.TableInfoObj.zhendongcl,callback:function(t){e.$set(e.TableInfoObj,"zhendongcl",t)},expression:"TableInfoObj.zhendongcl"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"温度测量","label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-input",{staticClass:"ipw2",model:{value:e.TableInfoObj.temcl,callback:function(t){e.$set(e.TableInfoObj,"temcl",t)},expression:"TableInfoObj.temcl"}})],1),a("el-col",{attrs:{span:4,offset:2}},[a("el-checkbox",{model:{value:e.TableInfoObj.shifoujiewenduchuanganqi,callback:function(t){e.$set(e.TableInfoObj,"shifoujiewenduchuanganqi",t)},expression:"TableInfoObj.shifoujiewenduchuanganqi"}},[e._v(" 是否接温度传感器 ")])],1)],1)],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"噪声测量","label-width":"120px"}},[a("el-input",{staticClass:"ipw",model:{value:e.TableInfoObj.zaoshengcl,callback:function(t){e.$set(e.TableInfoObj,"zaoshengcl",t)},expression:"TableInfoObj.zaoshengcl"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"大气压力测量","label-width":"120px"}},[a("el-input",{staticClass:"ipw",model:{value:e.TableInfoObj.airpresscl,callback:function(t){e.$set(e.TableInfoObj,"airpresscl",t)},expression:"TableInfoObj.airpresscl"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"液位测量","label-width":"120px"}},[a("el-input",{model:{value:e.TableInfoObj.yeweicl,callback:function(t){e.$set(e.TableInfoObj,"yeweicl",t)},expression:"TableInfoObj.yeweicl"}})],1)],1),a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"振动测量类型","label-width":"120px"}},[a("el-select",{staticClass:"ipw",attrs:{clearable:""},model:{value:e.TableInfoObj.zhendongceliangleixing,callback:function(t){e.$set(e.TableInfoObj,"zhendongceliangleixing",t)},expression:"TableInfoObj.zhendongceliangleixing"}},e._l(e.defaultObj.zdcl,(function(e){return a("el-option",{key:e.value,staticClass:"ipw",attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"进口测压处管径"}},[a("el-input",{model:{value:e.TableInfoObj.jinkouceyaguanjing,callback:function(t){e.$set(e.TableInfoObj,"jinkouceyaguanjing",t)},expression:"TableInfoObj.jinkouceyaguanjing"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"出口测压处管径"}},[a("el-input",{model:{value:e.TableInfoObj.chuouceyaguanjing,callback:function(t){e.$set(e.TableInfoObj,"chuouceyaguanjing",t)},expression:"TableInfoObj.chuouceyaguanjing"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1)],1),a("el-col",{attrs:{span:10}},[a("el-form-item",{attrs:{label:"检测项目"}},[a("el-select",{staticStyle:{width:"450px"},attrs:{clearable:""},model:{value:e.TableInfoObj.jyxm,callback:function(t){e.$set(e.TableInfoObj,"jyxm",t)},expression:"TableInfoObj.jyxm"}},e._l(e.defaultObj.jcxm,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:16}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"进口压力表至基准面距离"}},[a("el-input",{model:{value:e.TableInfoObj.jinkouyalijuli,callback:function(t){e.$set(e.TableInfoObj,"jinkouyalijuli",t)},expression:"TableInfoObj.jinkouyalijuli"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"出口压力表至基准面距离"}},[a("el-input",{model:{value:e.TableInfoObj.chukouyalijuli,callback:function(t){e.$set(e.TableInfoObj,"chukouyalijuli",t)},expression:"TableInfoObj.chukouyalijuli"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"泵进口直径"}},[a("el-input",{model:{value:e.TableInfoObj.bengjinkouzhijing,callback:function(t){e.$set(e.TableInfoObj,"bengjinkouzhijing",t)},expression:"TableInfoObj.bengjinkouzhijing"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"泵出口直径"}},[a("el-input",{model:{value:e.TableInfoObj.bengchukouzhijing,callback:function(t){e.$set(e.TableInfoObj,"bengchukouzhijing",t)},expression:"TableInfoObj.bengchukouzhijing"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"叶轮外径/流道宽度"}},[a("el-input",{staticStyle:{width:"140px"},model:{value:e.TableInfoObj.yelunwajing,callback:function(t){e.$set(e.TableInfoObj,"yelunwajing",t)},expression:"TableInfoObj.yelunwajing"}})],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"叶片角度"}},[a("el-input",{staticStyle:{width:"140px"},model:{value:e.TableInfoObj.yepianjiaodu,callback:function(t){e.$set(e.TableInfoObj,"yepianjiaodu",t)},expression:"TableInfoObj.yepianjiaodu"}})],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"介质温度"}},[a("el-input",{model:{value:e.TableInfoObj.wendu,callback:function(t){e.$set(e.TableInfoObj,"wendu",t)},expression:"TableInfoObj.wendu"}},[a("template",{slot:"append"},[e._v("℃")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"泵的安装高度"}},[a("el-input",{staticStyle:{width:"180px"},model:{value:e.TableInfoObj.hg,callback:function(t){e.$set(e.TableInfoObj,"hg",t)},expression:"TableInfoObj.hg"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1)],1),a("el-col",{attrs:{span:7}},[a("el-form-item",{attrs:{label:"进口管损"}},[a("el-input",{staticStyle:{width:"140px"},model:{value:e.TableInfoObj.hi_k,callback:function(t){e.$set(e.TableInfoObj,"hi_k",t)},expression:"TableInfoObj.hi_k"}})],1)],1),a("el-col",{attrs:{span:9}},[a("el-form-item",{attrs:{label:"出口管损"}},[a("el-input",{staticStyle:{width:"210px"},model:{value:e.TableInfoObj.ho_k,callback:function(t){e.$set(e.TableInfoObj,"ho_k",t)},expression:"TableInfoObj.ho_k"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"叶轮出口宽度"}},[a("el-input",{staticStyle:{width:"180px"},model:{value:e.TableInfoObj.yeluncaizhi,callback:function(t){e.$set(e.TableInfoObj,"yeluncaizhi",t)},expression:"TableInfoObj.yeluncaizhi"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1)],1),a("el-col",{attrs:{span:16}},[a("el-form-item",{attrs:{label:"叶轮材质"}},[a("el-input",{staticStyle:{width:"140px"},model:{value:e.TableInfoObj.c4,callback:function(t){e.$set(e.TableInfoObj,"c4",t)},expression:"TableInfoObj.c4"}})],1),a("el-form-item",{attrs:{label:"大气压力"}},[a("el-input",{staticStyle:{width:"232px"},model:{value:e.TableInfoObj.daqiyali,callback:function(t){e.$set(e.TableInfoObj,"daqiyali",t)},expression:"TableInfoObj.daqiyali"}},[a("template",{slot:"append"},[e._v("MPa")])],2)],1)],1)],1)],1)],1)],1)],1)},i=[],s=a("5530"),l=a("5880"),r=a("eb2f"),o={name:"BasicInfo",data:function(){return{defaultObj:{zdcl:[{value:"振动速度有效值  Vrms  mm/s",label:"振动速度有效值  Vrms  mm/s"},{value:"振幅 μm",label:"振幅 μm"}],sytw:[{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"}],sylx:[{value:"型式试验",label:"型式试验"},{value:"性能试验",label:"性能试验"}],glcl:[{value:"智能电表100/5",label:"智能电表100/5"},{value:"智能电表300/5",label:"智能电表300/5"},{value:"智能电表600/5",label:"智能电表600/5"},{value:"智能电表150/5",label:"智能电表150/5"},{value:"智能电表400/5",label:"智能电表400/5"},{value:"智能电表800/5",label:"智能电表800/5"},{value:"智能电表50/5",label:"智能电表50/5"},{value:"智能电表200/5",label:"智能电表200/5"},{value:"智能电表500/5",label:"智能电表500/5"},{value:"高压宽带功率分析仪",label:"高压宽带功率分析仪"},{value:"低压宽带功率分析仪",label:"低压宽带功率分析仪"},{value:"JW-3型扭矩仪",label:"JW-3型扭矩仪"},{value:"High Voltage Broadband Bower Analyzer",label:"High Voltage Broadband Bower Analyzer"},{value:"Low Voltage Broadband Bower Analyzer",label:"Low Voltage Broadband Bower Analyzer"},{value:"Jw-3 Torque Mete",label:"Jw-3 Torque Mete"}],jcycsf:[{value:"进口压力算法",label:"进口压力算法"},{value:"液位算法",label:"液位算法"},{value:"进口扬程为0",label:"进口扬程为0"}],jcxm:[{value:"流量、扬程、轴功率、效率",label:"流量、扬程、轴功率、效率"},{value:"流量、扬程、轴功率、效率、汽蚀",label:"流量、扬程、轴功率、效率、汽蚀"},{value:"流量、扬程、轴功率、效率、振动、噪声",label:"流量、扬程、轴功率、效率、振动、噪声"},{value:"Flow, Head, Shaft Power, Efficiency, NPSH, Vibration,Noise",label:"Flow, Head, Shaft Power, Efficiency, NPSH, Vibration,Noise"}],gridData:[{centigrade:"0",Pa:"610.86",density:"999.8"},{centigrade:"1",Pa:"655.97",density:"999.88"},{centigrade:"2",Pa:"705",density:"999.92"},{centigrade:"3",Pa:"756.98",density:"999.96"},{centigrade:"4",Pa:"811.99",density:"1000"},{centigrade:"5",Pa:"870.83",density:"999.98"},{centigrade:"6",Pa:"933.6",density:"999.94"},{centigrade:"7",Pa:"999.3",density:"999.9"},{centigrade:"8",Pa:"1069.91",density:"999.84"},{centigrade:"9",Pa:"1145.42",density:"999.78"},{centigrade:"10",Pa:"1228.78",density:"999.7"},{centigrade:"11",Pa:"1313.12",density:"999.6"},{centigrade:"12",Pa:"1403.34",density:"999.48"},{centigrade:"13",Pa:"1498.37",density:"999.34"},{centigrade:"14",Pa:"1599.47",density:"999.2"},{centigrade:"15",Pa:"1706.37",density:"999"},{centigrade:"16",Pa:"1820.12",density:"998.88"},{centigrade:"17",Pa:"1934.76",density:"998.72"},{centigrade:"18",Pa:"2068.23",density:"998.54"},{centigrade:"19",Pa:"2201.6",density:"998.36"},{centigrade:"20",Pa:"2334.88",density:"998.2"},{centigrade:"21",Pa:"2481.98",density:"997.96"},{centigrade:"22",Pa:"2641.93",density:"997.74"},{centigrade:"23",Pa:"2815.5",density:"997.54"},{centigrade:"24",Pa:"2989",density:"997.32"},{centigrade:"25",Pa:"3175.41",density:"997.1"},{centigrade:"26",Pa:"3361.74",density:"996.84"},{centigrade:"27",Pa:"3562.68",density:"996.56"},{centigrade:"28",Pa:"3775.48",density:"996.3"},{centigrade:"29",Pa:"4003",density:"996"},{centigrade:"30",Pa:"4242.28",density:"995.7"},{centigrade:"31",Pa:"4496.37",density:"995.36"},{centigrade:"32",Pa:"4763.11",density:"995"},{centigrade:"33",Pa:"5029.86",density:"994.64"},{centigrade:"34",Pa:"5322.98",density:"994.26"},{centigrade:"35",Pa:"5630.02",density:"993.9"},{centigrade:"36",Pa:"5950.71",density:"993.54"},{centigrade:"37",Pa:"6284.13",density:"993.2"},{centigrade:"38",Pa:"6631.19",density:"992.8"},{centigrade:"39",Pa:"7004.93",density:"992.44"},{centigrade:"40",Pa:"7378.56",density:"992.2"},{centigrade:"41",Pa:"7791.42",density:"991.7"},{centigrade:"42",Pa:"8205.26",density:"991.32"},{centigrade:"43",Pa:"8645.59",density:"990.94"},{centigrade:"44",Pa:"9112.39",density:"990.54"},{centigrade:"45",Pa:"9592.82",density:"990.2"},{centigrade:"46",Pa:"10099.8",density:"989.74"},{centigrade:"47",Pa:"10129.3",density:"989.34"},{centigrade:"48",Pa:"11167.9",density:"988.97"},{centigrade:"49",Pa:"11741.6",density:"988.52"},{centigrade:"50",Pa:"12341.73",density:"988.1"}]},TableInfoObj:{taiwei:"",leixing:"",Wtest:"",jinkouyangchengsuanfa:"",shifoujieyeweiji:!1,Qtest:"",niujuceliang:"",Ntest:"",inputPa:"",outputPa:"",zhendongcl:"",temcl:"",shifoujiewenduchuanganqi:!1,zaoshengcl:"",airpresscl:"",yeweicl:"",zhendongceliangleixing:"",jinkouceyaguanjing:"",chuouceyaguanjing:"",jyxm:"",jinkouyalijuli:"",chukouyalijuli:"",qihuayali:"",bengjinkouzhijing:"",bengchukouzhijing:"",shuidemidu:"",yelunwajing:"",yepianjiaodu:"",wendu:"",daqiyali:"",hg:"",hi_k:"",ho_k:"",yelunchukoukuandu:"",yeluncaizhi:""}}},computed:Object(s["a"])({taskid:function(){return this.$route.query.taskid},fileDomain:function(){return this.$getUrlPrefix(this.$Cookies.get("fileserver"))}},Object(l["mapState"])({currentTask:function(e){return e.deviceData.currentTask}})),created:function(){},mounted:function(){r["eventBus"].$on("taskdialog",this.resetForm)},beforeDestroy:function(){r["eventBus"].$off("taskdialog")},methods:{resetForm:function(e){this.$refs["formRef"].resetFields()},fillFormData:function(e){Object.assign(this.TableInfoObj,e)},handleCurrentChange:function(e){this.TableInfoObj["qihuayali"]=e.Pa,this.TableInfoObj["shuidemidu"]=e.density}}},c=o,u=(a("b2d3"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=d.exports},3621:function(e,t,a){e.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#282c34","column-second-menu-background":"#fff"}},3858:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"role-box"},[a("el-form",{attrs:{model:e.roleFormObj,rules:e.roleFormRules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"parent",prop:"parent"}},[a("el-select",{attrs:{placeholder:"请选择Parent"},model:{value:e.roleFormObj.ParentId,callback:function(t){e.$set(e.roleFormObj,"ParentId",t)},expression:"roleFormObj.ParentId"}},e._l(e.roleList,(function(e,t){return a("el-option",{key:t,attrs:{value:e.objectId,label:e.name+":"+e.desc}})})),1)],1),a("el-form-item",{attrs:{label:"角色名",prop:"name"}},[a("el-input",{model:{value:e.roleFormObj.name,callback:function(t){e.$set(e.roleFormObj,"name",t)},expression:"roleFormObj.name"}})],1),a("el-form-item",{attrs:{label:"部门",prop:"departmentid"}},[a("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.roleFormObj.depname,callback:function(t){e.$set(e.roleFormObj,"depname",t)},expression:"roleFormObj.depname"}})],1),a("el-form-item",{attrs:{label:"岗位",prop:"role"}},[a("el-select",{attrs:{clearable:e.clearFlag,placeholder:"请选择角色模版"},model:{value:e.roleFormObj.dictvalue,callback:function(t){e.$set(e.roleFormObj,"dictvalue",t)},expression:"roleFormObj.dictvalue"}},e._l(e.Option.dictOption,(function(e,t){return a("el-option",{key:t,attrs:{value:e.key,change:"changeOption('dict',item.name)"}})})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"description"}},[a("el-input",{attrs:{placeholder:"备注项为必填项",type:"textarea"},model:{value:e.roleFormObj.description,callback:function(t){e.$set(e.roleFormObj,"description",t)},expression:"roleFormObj.description"}})],1),a("el-form-item",{staticClass:"el_btn"},[a("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.resetFrom()}}},[e._v("重置")]),0==e.insert||1==e.insert?a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.addroles()}}},[e._v(" 确定 ")]):e._e()],1)],1)],1)])},i=[],s=a("1da1"),l=(a("96cf"),a("159b"),a("b0c0"),a("d81d"),a("a4d3"),a("e01a"),a("e0e9")),r=a("5da9"),o={data:function(){return{treeModu:[],treeprops:{value:"name",label:"name"},defaultProps:{children:"children",label:"label"},originrole:[],needdelarr:[],parentrole:[],userid:"",roleId:"",insert:"",Option:{deptvalue:"",deptOption:[],dictvalue:"",dictOption:[],objectId:0,ParentId:0},clearFlag:!0,roleFormObj:{parentId:"",name:"",phoneNum:"",mail:"",department:"",gender:"男",role:"",description:"",type:[],list:[],defaultProps:{children:"children",label:"label"},dictvalue:""},roleFormRules:{name:[{required:!0,message:"请输入角色名",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],description:[{required:!0,message:"请输入权限描述",trigger:"blur"},{min:3,message:"最少三个字符",trigger:"blur"}]},roleList:[],deptInfo:{}}},computed:{},mounted:function(){this.searchAllOption()},methods:{getData:function(e){this.deptInfo=e,this.roleFormObj.ParentId=this.deptInfo.objectId,this.searchAllOption()},changeOption:function(e,t){var a=this;switch(e){case"tree":this.Option.deptvalue=this.$refs["cascaderAddr"].currentLabels[1];var n=this.$refs["cascaderAddr"].options;n.forEach((function(e){a.$refs["cascaderAddr"].currentLabels[0]===e.name&&(a.Option.objectId=e.children[0].objectId),a.Option.ParentId=e.objectId}));break;case"dict":this.Option.dictvalue=t;break}},searchAllOption:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["queryDict"])({where:{type:"roletemp"}});case 2:return a=t.sent,n=a.results,n&&(e.Option.dictOption=n),t.next=7,Object(r["queryRole"])({});case 7:i=t.sent,s=[],i.results?(i.results.forEach((function(e,t){var a={};a.ParentId=e.ParentId,a.name=e.name,a.objectId=e.objectId,a.org_type=e.org_type,a.desc=e.desc,a.createdAt=e.createdAt,s.push(a)})),e.roleList=s,e.Option.deptOption=i.results):(e.roleList=[],e.$message("部门列表获取失败"),e.Option.deptOption=[]);case 10:case"end":return t.stop()}}),t)})))()},resetFrom:function(){var e=this;this.roleFormObj={name:"",phoneNum:"",duty:"",gender:"男",role:"",description:"",alias:""},this.Option.deptvalue="",this.Option.dictvalue="",this.Option.objectId=0,this.Option.ParentId=0,this.treeModu=[],setTimeout((function(){e.searchAllOption()}),1e3)},diguiquchu:function(e,t,a,n){var i=this;t.map((function(t){t.key==a&&t.children.length>0?(n.push(a),i.diguiquchu(e,t.children,a,n)):t.key!=a&&t.children.length>0&&i.diguiquchu(e,t.children,a,n)}))},addroles:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={depname:e.roleFormObj.depname,desc:e.roleFormObj.description,name:e.roleFormObj.name,parent:e.roleFormObj.ParentId,tempname:e.roleFormObj.dictvalue},t.next=3,Object(r["addRoles"])(a);case 3:n=t.sent,i=n.results,i&&e.$message({message:"新增成功",type:"success"}),e.$baseEventBus.$emit("dialogHide");case 7:case"end":return t.stop()}}),t)})))()},getdetail:function(){this.insert=this.$route.query.insert,this.roleId=this.$route.query.roleId}}},c=o,u=(a("5abe"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,"be8dd312",null);t["default"]=d.exports},"39a2":function(e,t,a){"use strict";a("82ab")},"3cae":function(e,t,a){"use strict";a("27f6")},4386:function(e,t,a){},"4a21":function(e,t,a){e.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#282c34","column-second-menu-background":"#fff"}},"4b5d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"PerformanceDataCurve"},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("性能曲线")]),e._m(0),a("div",{ref:"chartViewTop",staticClass:"view-chart-box"},[e._v("Click to bind data.")])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("p",[a("br")])}],s=a("5530"),l=(a("159b"),a("164e")),r=a.n(l),o=a("5880"),c=a("eb2f"),u={name:"PerformanceDataCurve",components:{},data:function(){return{chartOption:{},xAxisDataArray:[],dataArrayLift:[],dataArrayPower:[],dataArrayEfficiency:[],testData:[]}},computed:Object(s["a"])({},Object(o["mapState"])({currentTask:function(e){return e.deviceData.currentTask},currentChildPageData:function(e){return e.deviceData.currentChildPageData}})),created:function(){},mounted:function(){var e=this;c["eventBus"].$on("testData",(function(t){e.resetOption(),e.testData=t,e.processData(t),setTimeout((function(){e.drawLine(),e.getData()}),200)})),this.$nextTick((function(){var t=e.$refs.chartViewTop;e.chartTop=r.a.init(t),e.drawLine()}))},beforeDestroy:function(){this.resetOption()},methods:{initData:function(){},processData:function(e){var t=[],a=[],n=[],i=[];e.forEach((function(e){t.push(e.Q2),a.push(e.H2),n.push(e.W2),i.push(e.Eff)})),this.xAxisDataArray=t,this.dataArrayLift=a,this.dataArrayPower=n,this.dataArrayEfficiency=i},drawLine:function(){this.chartOption={tooltip:{trigger:"axis"},legend:{data:["扬程","功率","效率"]},xAxis:[{type:"category",boundaryGap:!1,data:this.xAxisDataArray},{type:"value",scale:!0,splitNumber:29,axisLabel:{show:!1},splitLine:{show:!1}}],yAxis:[{type:"value",name:"扬程H/m",position:"left",axisLabel:{formatter:"{value}  H/m"}},{type:"value",name:"功率(kW)",position:"right",offset:50,axisLabel:{formatter:"{value}"}},{type:"value",name:"效率(%)",position:"right",axisLabel:{formatter:"{value}"}}],animation:!1,series:[{name:"扬程",type:"line",smooth:!0,data:this.dataArrayLift},{name:"效率",type:"line",smooth:!0,data:this.dataArrayPower},{name:"功率",type:"line",smooth:!0,data:this.dataArrayEfficiency}]},this.chartTop.setOption(this.chartOption)},resetOption:function(){this.chartTop&&this.chartTop.clear(),this.xAxisDataArray=[],this.dataArrayLift=[],this.dataArrayPower=[],this.dataArrayEfficiency=[]}}},d=u,p=(a("153b"),a("2877")),m=Object(p["a"])(d,n,i,!1,null,null,null);t["default"]=m.exports},"4b65":function(e){e.exports=JSON.parse('{"PersonAuthtication":{"userphone":"Number","joblicense":"String","suggestion":"String","positional_titles":"String","professional":"String","education":"String","auditDate":"Number","start_time":"Number","ukey":"String","name":"String","graduate_institutions":"String","training_experience":"String","practitioners_experience":"String","working_seniority":"String","addr":"Array","status":"String","contraryimageUrl":"String","birthday":"Number","frontimageUrl":"String","job":"String","identity":"String","unumber":"String","politic_status":"String","department":"Pointer"}}')},"4f20":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{"close-on-click-modal":!1,title:e.title,visible:e.dialogFormVisible,width:"70%"},on:{"update:visible":function(t){e.dialogFormVisible=t},close:e.close},scopedSlots:e._u([{key:"footer",fn:function(){return[a("el-button",{on:{click:e.close}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("确 定")])]},proxy:!0}])},[a("el-collapse",{model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[a("el-collapse-item",{attrs:{title:"菜单参数配置项",name:"1"}},[a("menu-collapse")],1)],1),a("el-form",{ref:"form",staticStyle:{"margin-top":"20px"},attrs:{inline:!0,model:e.form,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"name",prop:"name"}},[a("el-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}},[a("template",{slot:"prepend"},[a("vab-icon",{attrs:{icon:"pages-line"}})],1)],2)],1),a("el-form-item",{attrs:{label:"路径",prop:"url"}},[a("el-input",{model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}},[a("template",{slot:"prepend"},[a("vab-icon",{attrs:{icon:"route-fill"}})],1)],2)],1),a("el-form-item",{attrs:{label:"vue文件路径",prop:"meta.component"}},[a("el-input",{model:{value:e.form.meta.component,callback:function(t){e.$set(e.form.meta,"component",t)},expression:"form.meta.component"}},[a("template",{slot:"prepend"},[a("vab-icon",{attrs:{icon:"vuejs-fill"}})],1)],2)],1),a("el-form-item",{attrs:{label:"重定向",prop:"redirect"}},[a("el-input",{model:{value:e.form.meta.redirect,callback:function(t){e.$set(e.form.meta,"redirect",t)},expression:"form.meta.redirect"}},[a("template",{slot:"prepend"},[a("vab-icon",{attrs:{icon:"infrared-thermometer-fill"}})],1)],2)],1),a("el-form-item",{attrs:{label:"标题",prop:"meta.title"}},[a("el-input",{model:{value:e.form.meta.title,callback:function(t){e.$set(e.form.meta,"title",t)},expression:"form.meta.title"}},[a("template",{slot:"prepend"},[a("vab-icon",{attrs:{icon:"article-line"}})],1)],2)],1),a("el-form-item",{attrs:{label:"图标",prop:"meta.icon"}},[a("el-popover",{attrs:{"popper-class":"icon-selector-popper",trigger:"click",width:"292"},scopedSlots:e._u([{key:"reference",fn:function(){return[a("el-input",{model:{value:e.form.meta.icon,callback:function(t){e.$set(e.form.meta,"icon",t)},expression:"form.meta.icon"}},[a("template",{slot:"prepend"},[a("vab-icon",{attrs:{icon:e.form.meta.icon}})],1)],2)]},proxy:!0}])},[a("vab-icon-selector",{on:{"handle-icon":e.handleIcon}})],1)],1),a("el-form-item",{attrs:{label:"badge",prop:"badge"}},[a("el-input",{model:{value:e.form.meta.badge,callback:function(t){e.$set(e.form.meta,"badge",t)},expression:"form.meta.badge"}},[a("template",{slot:"prepend"},[a("vab-icon",{attrs:{icon:"notification-badge-fill"}})],1)],2)],1),a("el-form-item",{attrs:{label:"隐藏",title:"隐藏后将不在菜单列表中展示，但是可以被访问",prop:"hidden"}},[a("el-switch",{model:{value:e.form.meta.hidden,callback:function(t){e.$set(e.form.meta,"hidden",t)},expression:"form.meta.hidden"}})],1),a("el-form-item",{attrs:{label:"固定",title:"除首页外,其他页面不建议选择此项",prop:"noClosable"}},[a("el-switch",{model:{value:e.form.meta.noClosable,callback:function(t){e.$set(e.form.meta,"noClosable",t)},expression:"form.meta.noClosable"}})],1),a("el-form-item",{attrs:{label:"无缓存",title:"开启后该页面的数据将不被缓存",prop:"noKeepAlive"}},[a("el-switch",{model:{value:e.form.meta.noKeepAlive,callback:function(t){e.$set(e.form.meta,"noKeepAlive",t)},expression:"form.meta.noKeepAlive"}})],1),a("el-form-item",{attrs:{label:"排序",prop:"orderBy"}},[a("el-input-number",{attrs:{label:"描述文字"},model:{value:e.form.orderBy,callback:function(t){e.$set(e.form,"orderBy",e._n(t))},expression:"form.orderBy"}})],1)],1)],1)},i=[],s=a("1da1"),l=(a("b0c0"),a("a9e3"),a("96cf"),a("f5b7")),r=a("bc35"),o=a("8405"),c={name:"MenuManagementEdit",components:{VabIconSelector:l["default"],menuCollapse:o["default"]},data:function(){return{jsonModel:{hidden:!0,menuHidden:!1,alwaysShow:!0,name:"Demo",meta:{title:"title",roles:{role:["admin","..."],ability:["READ","WRITE","DELETE"],mode:"allOf"},remixIcon:"",icon:"",isCustomSvgIcon:!1,isCustomSvg:!1,noKeepAlive:!0,affix:!0,noCLosable:!0,badge:"New",tabHidden:!0,activeMenu:"",dot:!1,dynamicNewTab:!1},children:[]},activeNames:["0"],menuid:"",form:{orderBy:100,name:"",url:"",meta:{icon:"",component:"",title:""}},rules:{name:[{type:"string",required:!0,message:"name,用做页面缓存,首字母大写,不可重复",trigger:"blur"},{type:"string",message:"name类型为string",trigger:"blur"},{type:"string",pattern:/^[A-Z][A-z0-9]*$/,message:"首字母请修改为大写",trigger:"blur"}],url:[{type:"string",required:!0,trigger:"blur",message:"路径地址,将展示在浏览器地址栏中"}],"meta.component":[{required:!0,trigger:"blur",message:"vue文件路径,一般为@views/下的文件路径"}],"meta.title":[{required:!0,trigger:"blur",message:"标题,展示在侧边栏菜单列表和顶部菜单列表"}],"meta.icon":[{required:!0,trigger:"blur",message:"图标，展示在侧边栏菜单列表和顶部菜单列表"}],orderBy:[{type:"number",required:!0,trigger:"blur",message:"排序层级,决定页面的排序"}]},title:"",dialogFormVisible:!1}},created:function(){},methods:{handleIcon:function(e){this.form.meta.icon=e},showEdit:function(e,t){this.title="addChildMenu"==t?"新增子菜单":"one"==t?"新增一级菜单":"编辑菜单","addChildMenu"==t?(this.form={orderBy:10*e.orderBy+1,name:"",url:e.url,meta:{icon:"home-3-fill",component:"",redirect:"",title:"",badge:"",hidden:!1,alwaysShow:!1,isCustomSvg:!1,noClosable:!1,noKeepAlive:!1,tabHidden:!1}},this.menuid=e.objectId):this.form="editMenu"==t?e:{orderBy:e.orderBy,name:"",url:"",meta:{icon:"home-3-fill",component:"",redirect:"",title:"",badge:"",hidden:!1,alwaysShow:!1,isCustomSvg:!1,noClosable:!1,noKeepAlive:!1,tabHidden:!1}},this.dialogFormVisible=!0},close:function(){this.menuid="",this.dialogFormVisible=!1},save:function(){var e=this;this.$refs["form"].validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a&&(e.form.objectId?e._putMenu(e.form.objectId,e.form):e._addMenu(e.form));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},_putMenu:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var i,s,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i={url:t.url,name:t.name,icon:t.icon,orderBy:t.orderBy,meta:t.meta},n.next=3,Object(r["putMenu"])(e,i);case 3:s=n.sent,l=s.updatedAt,l&&a.closeDialog();case 6:case"end":return n.stop()}}),n)})))()},closeDialog:function(){this.menuid="",this.$emit("fetch-data"),this.$refs["form"].resetFields(),this.dialogFormVisible=!1,this.form=this.$options.data().form},_addMenu:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i,s,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n="*",i="role:admin",s={},s[n]={read:!0,write:!0},s[i]={read:!0,write:!0},l={ACL:s,meta:e.meta,name:e.name,parent:{objectId:"0",__type:"Pointer",className:"Menu"},url:e.url,icon:e.meta.icon,orderBy:Number(e.orderBy)},""!=t.menuid){a.next=15;break}return l.parent.objectId="0",a.next=10,Object(r["postMenu"])(l);case 10:a.sent,t.$message({message:"新增成功",type:"success"}),t.closeDialog(),a.next=21;break;case 15:return l.parent.objectId=t.menuid,a.next=18,Object(r["postMenu"])(l);case 18:a.sent,t.$message({message:"新增成功",type:"success"}),t.closeDialog();case 21:case"end":return a.stop()}}),a)})))()}}},u=c,d=a("2877"),p=Object(d["a"])(u,n,i,!1,null,null,null);t["default"]=p.exports},"4f67":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"TestSetting"},[a("el-form",{ref:"formRef",attrs:{inline:!0,model:e.TestSettingObj,"label-width":"120px"}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("p",[e._v("检测精度")]),a("el-radio",{attrs:{label:"1"},model:{value:e.TestSettingObj.BasicSetting.testPrecision,callback:function(t){e.$set(e.TestSettingObj.BasicSetting,"testPrecision",t)},expression:"TestSettingObj.BasicSetting.testPrecision"}},[e._v(" 一级 ")]),a("el-radio",{attrs:{label:"2"},model:{value:e.TestSettingObj.BasicSetting.testPrecision,callback:function(t){e.$set(e.TestSettingObj.BasicSetting,"testPrecision",t)},expression:"TestSettingObj.BasicSetting.testPrecision"}},[e._v(" 二级 ")]),a("el-radio",{attrs:{label:"3"},model:{value:e.TestSettingObj.BasicSetting.testPrecision,callback:function(t){e.$set(e.TestSettingObj.BasicSetting,"testPrecision",t)},expression:"TestSettingObj.BasicSetting.testPrecision"}},[e._v(" 三级 ")])],1)],1),a("el-divider",{staticStyle:{color:"blue"},attrs:{"content-position":"left"}},[e._v(" 合格条件设置 ")]),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:3}},[a("p",[e._v("容差级别")]),a("el-select",{attrs:{size:"small",placeholder:"请选择"},on:{change:e.toleranceChange},model:{value:e.TestSettingObj.BasicSetting.dengji_test,callback:function(t){e.$set(e.TestSettingObj.BasicSetting,"dengji_test",t)},expression:"TestSettingObj.BasicSetting.dengji_test"}},e._l(e.levelOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"合格条件"}},[a("el-select",{attrs:{"allow-create":""},on:{change:e.qConditionsChange},model:{value:e.qConditions,callback:function(t){e.qConditions=t},expression:"qConditions"}},[a("el-option",{attrs:{label:"GB/T3216-2016",value:"GB/T3216-2016"}}),a("el-option",{attrs:{label:"其他",value:"other"}})],1)],1)],1),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"num-wrap"},[a("span",{staticClass:"txt-label"},[e._v("tQ:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.curentConditonObj.tQz,expression:"curentConditonObj.tQz"}],staticClass:"num-inp",attrs:{disabled:"other"!=e.qConditions,type:"number"},domProps:{value:e.curentConditonObj.tQz},on:{input:function(t){t.target.composing||e.$set(e.curentConditonObj,"tQz",t.target.value)}}}),e._v(" % "),a("span",{staticClass:"txt-label"},[e._v("tH:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.curentConditonObj.tHf,expression:"curentConditonObj.tHf"}],staticClass:"num-inp",attrs:{disabled:"other"!=e.qConditions,type:"number"},domProps:{value:e.curentConditonObj.tHf},on:{input:function(t){t.target.composing||e.$set(e.curentConditonObj,"tHf",t.target.value)}}}),e._v(" % "),a("span",{staticClass:"txt-label"},[e._v("t η:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.curentConditonObj.tp_up,expression:"curentConditonObj.tp_up"}],staticClass:"num-inp",attrs:{disabled:"other"!=e.qConditions,type:"number"},domProps:{value:e.curentConditonObj.tp_up},on:{input:function(t){t.target.composing||e.$set(e.curentConditonObj,"tp_up",t.target.value)}}}),e._v(" % ")]),a("div",{staticClass:"num-wrap"},[a("span",{staticClass:"txt-label"},[e._v("tQ:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.curentConditonObj.tq_down,expression:"curentConditonObj.tq_down"}],staticClass:"num-inp",attrs:{disabled:"other"!=e.qConditions,type:"number"},domProps:{value:e.curentConditonObj.tq_down},on:{input:function(t){t.target.composing||e.$set(e.curentConditonObj,"tq_down",t.target.value)}}}),e._v(" % "),a("span",{staticClass:"txt-label"},[e._v("tH:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.curentConditonObj.th_down,expression:"curentConditonObj.th_down"}],staticClass:"num-inp",attrs:{disabled:"other"!=e.qConditions,type:"number"},domProps:{value:e.curentConditonObj.th_down},on:{input:function(t){t.target.composing||e.$set(e.curentConditonObj,"th_down",t.target.value)}}}),e._v(" % "),a("span",{staticClass:"txt-label"},[e._v("t η:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.curentConditonObj.te_down,expression:"curentConditonObj.te_down"}],staticClass:"num-inp",attrs:{disabled:"other"!=e.qConditions,type:"number"},domProps:{value:e.curentConditonObj.te_down},on:{input:function(t){t.target.composing||e.$set(e.curentConditonObj,"te_down",t.target.value)}}}),e._v(" % ")])])],1),a("el-divider",{staticStyle:{color:"blue"},attrs:{"content-position":"left"}},[e._v(" 稳定条件设置 ")]),a("el-row",[a("el-form-item",{attrs:{label:"流量,扬程,效率"}},[a("el-select",{attrs:{"allow-create":""},model:{value:e.TestSettingObj.StabilitySetting.FlowHeadEfficiency,callback:function(t){e.$set(e.TestSettingObj.StabilitySetting,"FlowHeadEfficiency",t)},expression:"TestSettingObj.StabilitySetting.FlowHeadEfficiency"}},[a("el-option",{attrs:{label:"GB/T3216-2016",value:"GB/T3216-2016"}}),a("el-option",{attrs:{label:"其他",value:"other"}})],1)],1),a("el-form-item",{attrs:{label:"转速"}},[a("el-select",{model:{value:e.TestSettingObj.StabilitySetting.Speed,callback:function(t){e.$set(e.TestSettingObj.StabilitySetting,"Speed",t)},expression:"TestSettingObj.StabilitySetting.Speed"}},[a("el-option",{attrs:{label:"GB/T3216-2016",value:"GB/T3216-2016"}}),a("el-option",{attrs:{label:"其他",value:"other"}})],1)],1)],1),a("el-divider",{staticStyle:{color:"blue"},attrs:{"content-position":"left"}},[e._v(" 波动范围设置 ")]),a("el-row",[a("el-form-item",{attrs:{label:"波动范围当前值"}},[a("el-input",{attrs:{type:"text"},model:{value:e.TestSettingObj.FluctuationSetting.CurrentValue,callback:function(t){e.$set(e.TestSettingObj.FluctuationSetting,"CurrentValue",t)},expression:"TestSettingObj.FluctuationSetting.CurrentValue"}},[a("template",{slot:"append"},[e._v("%")])],2)],1),a("el-form-item",{attrs:{label:"波动范围设定值"}},[a("el-input",{attrs:{type:"text"},model:{value:e.TestSettingObj.FluctuationSetting.SetValue,callback:function(t){e.$set(e.TestSettingObj.FluctuationSetting,"SetValue",t)},expression:"TestSettingObj.FluctuationSetting.SetValue"}},[a("template",{slot:"append"},[e._v("%")])],2)],1),a("el-button",{attrs:{size:"small"}},[e._v("同步")])],1),a("el-divider",{staticStyle:{color:"blue"},attrs:{"content-position":"left"}},[e._v(" 参数设置 ")]),a("el-row",[a("el-form-item",{attrs:{label:"重力加速度"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TestSettingObj.ParameterSetting.GravitationalAcceleration,callback:function(t){e.$set(e.TestSettingObj.ParameterSetting,"GravitationalAcceleration",t)},expression:"TestSettingObj.ParameterSetting.GravitationalAcceleration"}})],1),a("el-form-item",{attrs:{label:"进水管阻力损失"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TestSettingObj.ParameterSetting.InletPipeResistanceLoss,callback:function(t){e.$set(e.TestSettingObj.ParameterSetting,"InletPipeResistanceLoss",t)},expression:"TestSettingObj.ParameterSetting.InletPipeResistanceLoss"}})],1),a("el-form-item",{attrs:{label:"潜水泵安装高度"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TestSettingObj.ParameterSetting.HeightOfSubmersiblePump,callback:function(t){e.$set(e.TestSettingObj.ParameterSetting,"HeightOfSubmersiblePump",t)},expression:"TestSettingObj.ParameterSetting.HeightOfSubmersiblePump"}})],1),a("el-form-item",{attrs:{label:"平均次数"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TestSettingObj.ParameterSetting.AverageNumber,callback:function(t){e.$set(e.TestSettingObj.ParameterSetting,"AverageNumber",t)},expression:"TestSettingObj.ParameterSetting.AverageNumber"}})],1),a("el-form-item",{attrs:{label:"采集周期"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TestSettingObj.ParameterSetting.AcquisitionCycle,callback:function(t){e.$set(e.TestSettingObj.ParameterSetting,"AcquisitionCycle",t)},expression:"TestSettingObj.ParameterSetting.AcquisitionCycle"}})],1)],1),a("el-row",[a("el-checkbox",{model:{value:e.TestSettingObj.ParameterSetting.RemoveMaxMinGetAverage,callback:function(t){e.$set(e.TestSettingObj.ParameterSetting,"RemoveMaxMinGetAverage",t)},expression:"TestSettingObj.ParameterSetting.RemoveMaxMinGetAverage"}},[e._v(" 去最大值,最小值求平均值 ")]),a("el-checkbox",{model:{value:e.TestSettingObj.ParameterSetting.SumAverage,callback:function(t){e.$set(e.TestSettingObj.ParameterSetting,"SumAverage",t)},expression:"TestSettingObj.ParameterSetting.SumAverage"}},[e._v(" 和值求平均 ")])],1),a("el-row",[a("div",[a("p",[e._v("转速换算公式")]),a("el-radio",{attrs:{label:"GB/t3216-2016"},model:{value:e.TestSettingObj.FormulaSetting.SpeedConversionFormula,callback:function(t){e.$set(e.TestSettingObj.FormulaSetting,"SpeedConversionFormula",t)},expression:"TestSettingObj.FormulaSetting.SpeedConversionFormula"}},[e._v(" GB/t3216-2016 ")]),a("el-radio",{attrs:{label:"other"},model:{value:e.TestSettingObj.FormulaSetting.SpeedConversionFormula,callback:function(t){e.$set(e.TestSettingObj.FormulaSetting,"SpeedConversionFormula",t)},expression:"TestSettingObj.FormulaSetting.SpeedConversionFormula"}},[e._v(" 其他 ")])],1)])],1)],1)},i=[],s=a("eb2f"),l={name:"TestSetting",data:function(){return{test:"aaaa",TestSettingObj:{BasicSetting:{testPrecision:"1",dengji_test:"2U"},FormulaSetting:{SpeedConversionFormula:"GB/t3216-2016"},ParameterSetting:{RemoveMaxMinGetAverage:!1,SumAverage:!1},StabilitySetting:{FlowHeadEfficiency:"GB/T3216-2016",Speed:"GB/T3216-2016"},QualifiedConditionsSetting:{QualifiedConditions:"GB/T3216-2016"},FluctuationSetting:{}},qConditions:"GB/T3216-2016",toleranceList:{"1U":{tHf:.06,th_down:0,tQz:.1,tq_down:0,tp_up:.1,te_down:0},"1E":{tHf:.03,th_down:-.03,tQz:.05,tq_down:-.05,tp_up:.04,te_down:0},"1B":{tHf:.03,th_down:-.03,tQz:.05,tq_down:-.05,tp_up:.04,te_down:-.03},"2B":{tHf:.05,th_down:-.05,tQz:.08,tq_down:-.08,tp_up:.08,te_down:-.05},"2U":{tHf:.1,th_down:0,tQz:.16,tq_down:0,tp_up:.16,te_down:-.05},"3B":{tHf:.07,th_down:-.07,tQz:.09,tq_down:-.09,tp_up:.09,te_down:-.07}},curentConditonObj:{}}},computed:{taskid:function(){return this.$route.query.taskid},levelOptions:function(){return["1U","1B","1E","2U","2B","3B"]},fileDomain:function(){return this.$getUrlPrefix(this.$Cookies.get("fileserver"))}},created:function(){},mounted:function(){this.curentConditonObj=this.toleranceList["2U"],s["eventBus"].$on("taskdialog",this.resetForm)},beforeDestroy:function(){s["eventBus"].$off("taskdialog")},methods:{toleranceChange:function(e){this.curentConditonObj=JSON.parse(JSON.stringify(this.toleranceList[e]))},qConditionsChange:function(e){"other"!=e&&(this.curentConditonObj=JSON.parse(JSON.stringify(this.toleranceList[this.TestSettingObj.BasicSetting.dengji_test])))},resetForm:function(e){this.$refs["formRef"].resetFields()},fillFormData:function(e){Object.assign(this.TestSettingObj,e)},getFormData:function(){return{BasicSetting:{testPrecision:this.TestSettingObj.BasicSetting.testPrecision,dengji_test:this.TestSettingObj.BasicSetting.dengji_test,AcceptParam:this.curentConditonObj},FormulaSetting:this.TestSettingObj.FormulaSetting,ParameterSetting:this.TestSettingObj.ParameterSetting,StabilitySetting:this.TestSettingObj.StabilitySetting,QualifiedConditionsSetting:this.TestSettingObj.QualifiedConditionsSetting}}}},r=l,o=(a("0f97"),a("2877")),c=Object(o["a"])(r,n,i,!1,null,null,null);t["default"]=c.exports},"50da":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"structure"},[a("div",{staticClass:"adduserDiadlog"},[a("el-dialog",{attrs:{visible:e.adduserDiadlog,title:e.$translateTitle("user.newusers"),width:"600px"},on:{"update:visible":function(t){e.adduserDiadlog=t}}},[a("div",[a("el-form",{ref:"userInfoFormRef",staticClass:"demo-ruleForm",attrs:{model:e.userInfoForm,rules:e.userFormRules,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:e.$translateTitle("user.name1"),prop:"nick"}},[a("el-input",{attrs:{placeholder:e.$translateTitle("product.eqwords"),"auto-complete":"off"},model:{value:e.userInfoForm.nick,callback:function(t){e.$set(e.userInfoForm,"nick",t)},expression:"userInfoForm.nick"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("product.phone"),prop:"phone",width:85}},[a("el-input",{attrs:{maxlength:11,placeholder:e.$translateTitle("product.enterphonenumber"),"auto-complete":"off"},model:{value:e.userInfoForm.phone,callback:function(t){e.$set(e.userInfoForm,"phone",t)},expression:"userInfoForm.phone"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("user.email"),prop:"email"}},[a("el-input",{attrs:{placeholder:e.$translateTitle("product.enteremail"),"auto-complete":"off"},model:{value:e.userInfoForm.email,callback:function(t){e.$set(e.userInfoForm,"email",t)},expression:"userInfoForm.email"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("user.account"),prop:"account"}},[a("el-input",{attrs:{placeholder:e.$translateTitle("product.enteraccount"),"auto-complete":"off"},model:{value:e.userInfoForm.account,callback:function(t){e.$set(e.userInfoForm,"account",t)},expression:"userInfoForm.account"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("developer.password"),prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:e.$translateTitle("product.entermmzh")},model:{value:e.userInfoForm.password,callback:function(t){e.$set(e.userInfoForm,"password",t)},expression:"userInfoForm.password"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("developer.confirmpassword"),prop:"checkPass"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:e.$translateTitle("product.enterpwa")},model:{value:e.userInfoForm.checkPass,callback:function(t){e.$set(e.userInfoForm,"checkPass",t)},expression:"userInfoForm.checkPass"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("developer.departmentselection"),prop:"departmentid"}},[a("el-select",{attrs:{placeholder:e.$translateTitle("product.selectdepartment")},model:{value:e.userInfoForm.departmentid,callback:function(t){e.$set(e.userInfoForm,"departmentid",t)},expression:"userInfoForm.departmentid"}},e._l(e.deptOption,(function(e){return a("el-option",{key:e.objectId,attrs:{value:e.objectId,label:e.name+":"+e.desc}})})),1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.adduserDiadlog=!1}}},[e._v(" "+e._s(e.$translateTitle("developer.cancel"))+" ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.addUser}},[e._v(" "+e._s(e.$translateTitle("developer.determine"))+" ")])],1)])],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[a("div",{staticClass:"tabContent"},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:7}},[a("div",{staticClass:"elTree"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"setting"},[a("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:e.$translateTitle("user.name"),clearable:"",size:"small"},model:{value:e.query.value,callback:function(t){e.$set(e.query,"value",t)},expression:"query.value"}}),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"small",disabled:""==e.query.value},on:{click:function(t){return e.userFordepartment(0)}}},[e._v(" "+e._s(e.$translateTitle("developer.search"))+" ")]),a("el-button",{staticClass:"filter-item",attrs:{type:"primary",size:"small"},on:{click:function(t){return e.userFordepartment()}}},[e._v(" "+e._s(e.$translateTitle("user.allusers"))+" ")])],1),a("div",{staticClass:"leftTree"},[a("el-tree",{attrs:{data:e.deptTreeData,props:e.elTreedefaultProps,"expand-on-click-node":!1,"node-key":"id","default-expand-all":""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,i=t.data;return a("span",{staticClass:"custom-tree-node"},[a("span",{class:{selected:i.objectId==e.curDepartmentId},on:{click:function(t){return e.handleNodeClick(i)}}},[e._v(" "+e._s(n.label)+" ")]),a("span",[a("i",{staticClass:"el-icon-circle-plus-outline",attrs:{title:e.$translateTitle("developer.adduser")},on:{click:function(t){return e.addItemUser(i)}}})])])}}])})],1)])]),a("el-col",{attrs:{span:17}},[a("div",{staticClass:"elTable"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.pictLoading,expression:"pictLoading"}],staticStyle:{width:"90%","margin-top":"20px"},attrs:{data:e.tableFilterData}},[a("el-table-column",{attrs:{label:e.$translateTitle("user.username")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.username))])]}}])}),a("el-table-column",{attrs:{label:e.$translateTitle("user.phonenumber")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.phone))])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:e.$translateTitle("user.email")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.email))])]}}])}),a("el-table-column",{attrs:{label:e.$translateTitle("user.department")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(" "+e._s(t.row.departmentname||e.departmentname)+" ")])]}}])}),a("el-table-column",{attrs:{"show-overflow-tooltip":!0,label:e.$translateTitle("user.createdtime")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(" "+e._s(new Date(t.row.createdAt).toLocaleDateString())+" ")])]}}])}),a("el-table-column",{attrs:{label:e.$translateTitle("developer.operation"),align:"center",width:"400"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){return e.handleEditor(t.row)}}},[e._v(" "+e._s(e.$translateTitle("developer.edit"))+" ")]),a("el-button",{attrs:{type:"danger",size:"small",disabled:!e.curDepartmentId},on:{click:function(a){return e.handleDetele(t.row)}}},[e._v(" "+e._s(e.$translateTitle("developer.delete"))+" ")])]}}])})],1)],1)])],1)],1)]),a("el-dialog",{attrs:{title:e.$translateTitle("user.assignroles"),visible:e.roleacl,"close-on-click-modal":!1},on:{"update:visible":function(t){e.roleacl=t}}},[a("el-table",{ref:"multipleTable",attrs:{data:e.rolelist,height:"500px",size:"mini"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{label:e.$translateTitle("user.name"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.alias))])]}}])}),a("el-table-column",{attrs:{label:e.$translateTitle("developer.describe"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.desc))])]}}])}),a("el-table-column",{attrs:{label:"ID",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.objectId))])]}}])})],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.roleacl=!1}}},[e._v(" "+e._s(e.$translateTitle("developer.cancel"))+" ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.adduseracl}},[e._v(" "+e._s(e.$translateTitle("developer.determine"))+" ")])],1)],1)],1)],1)},i=[],s=a("1da1"),l=(a("d81d"),a("caad"),a("2532"),a("d3b7"),a("3ca3"),a("ddb0"),a("a9e3"),a("4de4"),a("b0c0"),a("96cf"),a("4be7")),r=a("bc35"),o=a("8665"),c=a("5da9"),u={data:function(){var e=this,t=function(e,t,a){""===t?a(new Error("请输入密码")):a()},a=function(t,a,n){""===a?n(new Error("请再次输入密码")):a!==e.userInfoForm.password?n(new Error("两次输入密码不一致!")):n()};return{departmentObj:[],departmentname:"",curDepartmentId:"",deptTreeData:[],deptOption:[],departmentidFlag:"false",height:document.documentElement.clientHeight-180+"px;",delLoading:!1,sup_this:this,loading:!1,deptName:"",depts:[],deptId:null,structure:[],defaultProps:{children:"children",label:"name"},data:[],elTreedefaultProps:{children:"children",label:"name"},dataforuser:[],total:0,query:{value:"",type:"",enabled:""},tableData:[],pagesize:10,start:0,departmentid:[],userlist:[],rolelist:[],objectId:"",roleacl:!1,multipleSelection:[],userrolelist:[],tempData:[],roleData:[],adduserDiadlog:!1,userInfoForm:{account:"",phone:"",nick:"",password:"",email:"",checkPass:"",departmentid:[]},userFormRules:{account:[{required:!0,message:"请输入账号名",trigger:"blur"}],phone:[{required:!1,message:"请输入手机号",trigger:"blur"},{validator:function(e,t,a){var n=/^1[34578]\d{9}$/;t?n.test(t)?a():a(new Error("手机号码格式不正确！")):a()},trigger:"blur"}],password:[{validator:t,trigger:"blur",required:!0}],checkPass:[{validator:a,trigger:"blur",required:!0}],departmentid:[{required:!0,message:"请选择部门",trigger:"blur"}],nick:[{required:!0,message:"请输入昵称",trigger:"blur"},{min:2,max:7,message:"昵称格式不正确",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}]},treeprops:{value:"objectId",label:"name"},pictLoading:!1}},computed:{tableFilterData:function(){return this.tempData}},mounted:function(){this.userFordepartment(),this.searchAllOption()},methods:{addItemUser:function(e){this.deptOption=[],this.departmentObj=e,this.deptOption.push(e),this.adduserDiadlog=!0,this.userInfoForm.departmentid=e.objectId},addUser:function(){var e=this;this.$refs["userInfoFormRef"].validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=3;break}return e.$message({message:"用户信息不完整",type:"danger"}),t.abrupt("return",!1);case 3:return n={username:e.userInfoForm.account,nick:e.userInfoForm.nick,password:e.userInfoForm.password,phone:e.userInfoForm.phone,email:e.userInfoForm.email,department:e.userInfoForm.departmentid,emailVerified:!0},t.next=6,Object(o["EmployeesHired"])(n);case 6:i=t.sent,i?(e.$message({message:"用户添加成功！",type:"success"}),e.adduserDiadlog=!1,e.handleNodeClick(e.departmentObj)):e.$message("添加失败");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},editorrole:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i,s,l,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={order:"createdAt",where:{users:{className:"_User",__type:"Pointer"}}},t.rolelist=[],t.userrolelist=[],t.objectId=e,a.next=6,t.$query_object("_User",{limit:1,where:{objectId:t.objectId}});case 6:return i=a.sent,s=i.results,s.length&&(n.where.users.objectId=s[0].objectId),a.next=11,t.$query_object("_Role",n);case 11:l=a.sent,r=l.results,t.rolelist=r,r.length&&(r.map((function(e,a){t.objectId==e.objectId&&(t.$refs.multipleTable.toggleRowSelection(t.rolelist[a],!0),t.userrolelist.push(e.objectId))})),t.roleacl=!0);case 15:case"end":return a.stop()}}),a)})))()},seleItem:function(e,t,a){e.map((function(e){t.includes(e)||a.push(e)})),t.map((function(t){e.includes(t)||a.push(t)})),this.userRolereset(a)},userRolereset:function(e){var t=this;l["Promise"].all([e.map((function(e){t.testroles(e)}))]).then((function(e){0!=e.length&&(t.$message({type:"success",message:"分配成功"}),t.roleacl=!1)}))},testroles:function(e){},adduseracl:function(){this.seleItem(this.userrolelist,this.multipleSelection,[])},handleSelectionChange:function(e){var t=this;this.multipleSelection=[],e.map((function(e){t.multipleSelection.push(e.id)}))},handleEditor:function(e){this.$router.push({path:"/roles/edituser",query:{id:e.objectId}})},handleDetele:function(e){var t=this;this.$confirm("此操作将永久删除此用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n={department:t.curDepartmentId,username:e.username},a.next=3,Object(o["EmployeeTurnover"])(n);case 3:i=a.sent,i&&(t.$message({type:"success",message:"删除成功!"}),t.handleNodeClick({name:t.departmentname}));case 5:case"end":return a.stop()}}),a)}))))},handleSizeChange:function(e){this.pagesize=e,this.userFordepartment()},handleCurrentChange:function(e){this.start=Number(e-1)*Number(this.pagesize),this.userFordepartment()},userFordepartment:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.pictLoading=!0,t.tempData=[],0==e?t.start=0:t.query.value="",n={limit:t.pagesize,skip:t.start,where:{},count:"objectId"},a.next=6,Object(o["queryUser"])(n);case 6:i=a.sent,s=i.results,s?(t.query.value?t.tempData=s.filter((function(e){return-1!=e.username.indexOf(t.query.value)})):t.tempData=s,t.pictLoading=!1):t.pictLoading=!1,t.total=t.tempData.length;case 10:case"end":return a.stop()}}),a)})))()},handleNodeClick:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.departmentname=e.name,t.curDepartmentId=e.objectId,t.tempData=[],t.pictLoading=!0,n={name:e.name},a.next=7,Object(c["queryRoledepartment"])(n);case 7:i=a.sent,s=i.users,s?(t.tempData=s.filter((function(e){return-1==e.username.indexOf("user_for_")})),t.pictLoading=!1,t.total=t.tempData.length):(t.pictLoading=!1,t.total=0);case 10:case"end":return a.stop()}}),a)})))()},searchAllOption:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["Roletree"])();case 2:a=t.sent,n=a.results,i=void 0===n?[]:n,i?(e.deptTreeData=i,e.userFordepartment()):(e.$message("部门列表获取失败"),e.deptTreeData=[]);case 6:case"end":return t.stop()}}),t)})))()}}},d=u,p=(a("5975"),a("39a2"),a("2877")),m=Object(p["a"])(d,n,i,!1,null,"5075bac4",null);t["default"]=m.exports},5975:function(e,t,a){"use strict";a("a0d0")},"5abe":function(e,t,a){"use strict";a("d168")},"66af":function(e,t,a){e.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#282c34","column-second-menu-background":"#fff"}},"7aa8":function(e,t,a){e.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#282c34","column-second-menu-background":"#fff"}},"7e81":function(e,t,a){},"82ab":function(e,t,a){},8405:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{staticClass:"language-json"},[a("code",[a("span",{staticClass:"token punctuation"},[e._v("{")]),e._v("\n  "),a("span",{staticClass:"token property"},[e._v('"hidden"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token boolean"},[e._v("true")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//是否显示在菜单中显示隐藏路由（默认值：false）")]),e._v("\n  "),a("span",{staticClass:"token property"},[e._v('"menuHidden"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token boolean"},[e._v("false")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//是否显示在菜单中显示隐藏一级路由（默认值：false，除分栏布局有效）")]),e._v("\n  "),a("span",{staticClass:"token property"},[e._v('"alwaysShow"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token boolean"},[e._v("true")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//当只有一级子路由时是否显示父路由是否显示在菜单中显示路由（默认值：false）")]),e._v("\n  "),a("span",{staticClass:"token property"},[e._v('"name"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token string"},[e._v('"Demo"')]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//首字母大写，一定要与vue文件的name对应起来，用于noKeepAlive缓存控制（该项特别重要）")]),e._v("\n  "),a("span",{staticClass:"token property"},[e._v('"meta"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token punctuation"},[e._v("{")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"title"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token string"},[e._v('"title"')]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//菜单、面包屑、多标签页显示的名称")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"roles"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token punctuation"},[e._v("[")]),a("span",{staticClass:"token string"},[e._v('"admin"')]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token string"},[e._v('"..."')]),a("span",{staticClass:"token punctuation"},[e._v("]")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//当config/settings.js中rolesControl配置开启时，用于控制角色（简写）")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"roles"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token punctuation"},[e._v("{")]),e._v("\n      "),a("span",{staticClass:"token comment"},[e._v("//当config/settings.js中rolesControl配置开启时，用于控制角色（全写）")]),e._v("\n      "),a("span",{staticClass:"token property"},[e._v('"role"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token punctuation"},[e._v("[")]),a("span",{staticClass:"token string"},[e._v('"admin"')]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token string"},[e._v('"..."')]),a("span",{staticClass:"token punctuation"},[e._v("]")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v("\n      "),a("span",{staticClass:"token property"},[e._v('"ability"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token punctuation"},[e._v("[")]),a("span",{staticClass:"token string"},[e._v('"READ"')]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token string"},[e._v('"WRITE"')]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token string"},[e._v('"DELETE"')]),a("span",{staticClass:"token punctuation"},[e._v("]")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v('//ability: ["READ","WRITE"],')]),e._v("\n      "),a("span",{staticClass:"token property"},[e._v('"mode"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token string"},[e._v('"allOf"')]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//allOf: 数组内所有角色都拥有，返回True oneOf: 数组内拥有任一角色，返回True(等价第1种数据) except: 不拥有数组内任一角色，返回True(取反)")]),e._v("\n    "),a("span",{staticClass:"token punctuation"},[e._v("}")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"remixIcon"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token string"},[e._v('""')]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//旧版remix图标")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"icon"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token string"},[e._v('""')]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//新版")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"isCustomSvgIcon"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token boolean"},[e._v("false")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//旧版，是否是自定义svg图标（默认值：false，如果设置true，那么需要把你的svg拷贝到icon/remixIcon下，然后remixIcon字段配置上你的图标名）")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"isCustomSvg"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token boolean"},[e._v("false")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//新版，是否是自定义svg图标（默认值：false，如果设置true，那么需要把你的svg拷贝到icon/remixIcon下，然后remixIcon字段配置上你的图标名）")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"noKeepAlive"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token boolean"},[e._v("true")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//当前路由是否不缓存（默认值：false）")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"affix"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token boolean"},[e._v("true")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//当前路由是否固定多标签页（旧版）")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"noCLosable"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token boolean"},[e._v("true")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//当前路由是否可关闭多标签页，同上（新版）")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"badge"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token string"},[e._v('"New"')]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//badge小标签（只支持子级）")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"tabHidden"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token boolean"},[e._v("true")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//当前路由是否不显示多标签页")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"activeMenu"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token string"},[e._v('""')]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//高亮指定菜单")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"dot"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token boolean"},[e._v("false")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("//小圆点")]),e._v("\n    "),a("span",{staticClass:"token property"},[e._v('"dynamicNewTab"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token boolean"},[e._v("false")]),e._v(" "),a("span",{staticClass:"token comment"},[e._v("// 动态传参路由是否新开标签页")]),e._v("\n  "),a("span",{staticClass:"token punctuation"},[e._v("}")]),a("span",{staticClass:"token punctuation"},[e._v(",")]),e._v("\n  "),a("span",{staticClass:"token property"},[e._v('"children"')]),a("span",{staticClass:"token operator"},[e._v(":")]),e._v(" "),a("span",{staticClass:"token punctuation"},[e._v("[")]),a("span",{staticClass:"token punctuation"},[e._v("]")]),e._v("\n"),a("span",{staticClass:"token punctuation"},[e._v("}")]),e._v("\n")])])])}],s={name:"MenuCollapse"},l=s,r=(a("ac14"),a("2877")),o=Object(r["a"])(l,n,i,!1,null,"52407806",null);t["default"]=o.exports},"85b2":function(e,t,a){},"899f":function(e,t,a){e.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#282c34","column-second-menu-background":"#fff"}},"8a3c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"prescribedPoint"},[a("el-form",{ref:"formRef",attrs:{inline:!0,model:e.prescribedPointForm,disabled:""}},[a("el-row",[a("el-col",{attrs:{span:20}},[a("div",[a("el-form-item",{attrs:{label:"测试点个数"}},[a("el-select",{model:{value:e.prescribedPointForm.point,callback:function(t){e.$set(e.prescribedPointForm,"point",t)},expression:"prescribedPointForm.point"}},e._l(20,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),a("div",[a("el-radio",{attrs:{label:"flow"},model:{value:e.averagePoint,callback:function(t){e.averagePoint=t},expression:"averagePoint"}},[e._v(" 流量作为均分点 ")])],1),a("el-row",[a("el-form-item",{attrs:{label:"最小流量"}},[a("el-input",{attrs:{disabled:"lift"==e.averagePoint,size:"small"},model:{value:e.prescribedPointForm.zuixiaoliuliang,callback:function(t){e.$set(e.prescribedPointForm,"zuixiaoliuliang",t)},expression:"prescribedPointForm.zuixiaoliuliang"}})],1),a("el-form-item",{attrs:{label:"最大流量"}},[a("el-input",{attrs:{disabled:"lift"==e.averagePoint,size:"small"},model:{value:e.prescribedPointForm.zuidaliuliang,callback:function(t){e.$set(e.prescribedPointForm,"zuidaliuliang",t)},expression:"prescribedPointForm.zuidaliuliang"}})],1),a("el-button",{attrs:{disabled:"lift"==e.averagePoint||!e.prescribedPointForm.point,type:"primary",size:"small"},on:{click:function(t){return e.average()}}},[e._v(" 流量均分 ")])],1),a("div",[a("el-radio",{attrs:{label:"lift"},model:{value:e.averagePoint,callback:function(t){e.averagePoint=t},expression:"averagePoint"}},[e._v(" 扬程作为均分点 ")])],1),a("el-row",[a("el-form-item",{attrs:{label:"最小扬程"}},[a("el-input",{attrs:{disabled:"flow"==e.averagePoint,size:"small"},model:{value:e.prescribedPointForm.zuixiaoyangcheng,callback:function(t){e.$set(e.prescribedPointForm,"zuixiaoyangcheng",t)},expression:"prescribedPointForm.zuixiaoyangcheng"}})],1),a("el-form-item",{attrs:{label:"最大扬程"}},[a("el-input",{attrs:{disabled:"flow"==e.averagePoint,size:"small"},model:{value:e.prescribedPointForm.zuidayangcheng,callback:function(t){e.$set(e.prescribedPointForm,"zuidayangcheng",t)},expression:"prescribedPointForm.zuidayangcheng"}})],1),a("el-button",{attrs:{disabled:"flow"==e.averagePoint||!e.prescribedPointForm.point,type:"primary",size:"small"},on:{click:function(t){return e.average()}}},[e._v(" 扬程均分 ")])],1),a("div",[a("el-form-item",{attrs:{label:"额定转速"}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.rpm,callback:function(t){e.$set(e.prescribedPointForm,"rpm",t)},expression:"prescribedPointForm.rpm"}},[a("template",{slot:"append"},[e._v("(r/min)")])],2)],1)],1),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"规定流量(小流量)："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.Q1,callback:function(t){e.$set(e.prescribedPointForm,"Q1",t)},expression:"prescribedPointForm.Q1"}},[a("template",{slot:"append"},[e._v("m/s")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"规定扬程："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.H1,callback:function(t){e.$set(e.prescribedPointForm,"H1",t)},expression:"prescribedPointForm.H1"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"轴功率："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.zhougv1,callback:function(t){e.$set(e.prescribedPointForm,"zhougv1",t)},expression:"prescribedPointForm.zhougv1"}},[a("template",{slot:"append"},[e._v("W")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"效率："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.xiaolv1,callback:function(t){e.$set(e.prescribedPointForm,"xiaolv1",t)},expression:"prescribedPointForm.xiaolv1"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"气蚀余量："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.qishi1,callback:function(t){e.$set(e.prescribedPointForm,"qishi1",t)},expression:"prescribedPointForm.qishi1"}},[a("template",{slot:"append"},[e._v("M")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"规定流量(额定流量)： "}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.Q2,callback:function(t){e.$set(e.prescribedPointForm,"Q2",t)},expression:"prescribedPointForm.Q2"}},[a("template",{slot:"append"},[e._v("m/s")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"规定扬程："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.H2,callback:function(t){e.$set(e.prescribedPointForm,"H2",t)},expression:"prescribedPointForm.H2"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"轴功率："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.zhougv2,callback:function(t){e.$set(e.prescribedPointForm,"zhougv2",t)},expression:"prescribedPointForm.zhougv2"}},[a("template",{slot:"append"},[e._v("W")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"效率："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.xiaolv2,callback:function(t){e.$set(e.prescribedPointForm,"xiaolv2",t)},expression:"prescribedPointForm.xiaolv2"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"气蚀余量："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.qishi2,callback:function(t){e.$set(e.prescribedPointForm,"qishi2",t)},expression:"prescribedPointForm.qishi2"}},[a("template",{slot:"append"},[e._v("M")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"规定流量(大流量)："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.Q3,callback:function(t){e.$set(e.prescribedPointForm,"Q3",t)},expression:"prescribedPointForm.Q3"}},[a("template",{slot:"append"},[e._v("m/s")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"规定扬程："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.H3,callback:function(t){e.$set(e.prescribedPointForm,"H3",t)},expression:"prescribedPointForm.H3"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"轴功率："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.zhougv3,callback:function(t){e.$set(e.prescribedPointForm,"zhougv3",t)},expression:"prescribedPointForm.zhougv3"}},[a("template",{slot:"append"},[e._v("W")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"效率："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.xiaolv3,callback:function(t){e.$set(e.prescribedPointForm,"xiaolv3",t)},expression:"prescribedPointForm.xiaolv3"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"气蚀余量："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.qishi3,callback:function(t){e.$set(e.prescribedPointForm,"qishi3",t)},expression:"prescribedPointForm.qishi3"}},[a("template",{slot:"append"},[e._v("M")])],2)],1)],1)],1)],1),a("el-col",{attrs:{span:4}},[a("h3",{staticStyle:{"text-align":"center"}},[e._v("均分点信息")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pointDataArr}},[a("el-table-column",{attrs:{lable:"序号",type:"index"}}),"flow"==e.averagePoint?a("el-table-column",{attrs:{property:"flow",label:"Q(1/s)"}}):e._e(),"lift"==e.averagePoint?a("el-table-column",{attrs:{property:"lift",label:"h(m)"}}):e._e()],1)],1)],1)],1)],1)},i=[],s=(a("5880"),a("eb2f")),l={name:"PrescribedPoint",data:function(){return{prescribedPointForm:{rpm:"",point:"",Q1:"",H1:"",zhougv1:"",xiaolv1:"",qishi1:"",Q2:"",H2:"",zhougv2:"",xiaolv2:"",qishi2:"",Q3:"",H3:"",zhougv3:"",xiaolv3:"",qishi3:""},pointDataArr:[],averagePoint:"flow"}},computed:{taskid:function(){return this.$route.query.taskid},fileDomain:function(){return this.$getUrlPrefix(this.$Cookies.get("fileserver"))}},created:function(){},mounted:function(){s["eventBus"].$on("taskdialog",this.resetForm)},beforeDestroy:function(){s["eventBus"].$off("taskdialog")},methods:{resetForm:function(e){this.$refs["formRef"].resetFields()},average:function(){var e=this.prescribedPointForm.point;switch(this.averagePoint){case"flow":var t=this.prescribedPointForm.zuidaliuliang,a=this.prescribedPointForm.zuixiaoliuliang;break;case"lift":t=this.prescribedPointForm.zuidayangcheng,a=this.prescribedPointForm.zuixiaoyangcheng;break;default:break}this.pointDataArr=[];for(var n=(t-a)/(e-1),i=1;i<=e;i++){this.pointDataArr[i-1]={};var s=n*(i-1)+parseFloat(a);this.pointDataArr[i-1][this.averagePoint]=Math.floor(100*s)/100}},fillFormData:function(e){Object.assign(this.prescribedPointForm,e)},getFormData:function(){var e={point:this.prescribedPointForm.point,rpm:this.prescribedPointForm.rpm,Q1:this.prescribedPointForm.Q1,H1:this.prescribedPointForm.H1,zhougv1:this.prescribedPointForm.zhougv1,xiaolv1:this.prescribedPointForm.xiaolv1,qishi1:this.prescribedPointForm.qishi1,Q2:this.prescribedPointForm.Q2,H2:this.prescribedPointForm.H2,zhougv2:this.prescribedPointForm.zhougv2,xiaolv2:this.prescribedPointForm.xiaolv2,qishi2:this.prescribedPointForm.qishi2,Q3:this.prescribedPointForm.Q3,H3:this.prescribedPointForm.H3,zhougv3:this.prescribedPointForm.zhougv3,xiaolv3:this.prescribedPointForm.xiaolv3,qishi3:this.prescribedPointForm.qishi3,pointDataArr:this.pointDataArr};switch(this.averagePoint){case"flow":e.zuidaliuliang=this.prescribedPointForm.zuidaliuliang,e.zuixiaoliuliang=this.prescribedPointForm.zuixiaoliuliang;break;case"lift":e.zuidayangcheng=this.prescribedPointForm.zuidayangcheng,e.zuixiaoyangcheng=this.prescribedPointForm.zuixiaoyangcheng;break;default:break}return e}}},r=l,o=a("2877"),c=Object(o["a"])(r,n,i,!1,null,null,null);t["default"]=c.exports},"8de9":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rolescontrol"},[a("div",{staticClass:"search"},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:e.$translateTitle("concentrator.input"),clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",icon:"el-icon-search"}},[e._v(" "+e._s(e.$translateTitle("developer.search"))+" ")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:e.addcontrol}},[e._v(" "+e._s(e.$translateTitle("developer.add"))+" ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{size:"mini",data:e.treeData,"tree-props":{children:"children",hasChildren:"hasChildren"},border:"","default-expand-all":"","row-key":"objectId"}},[a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("equipment.name"),"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(" "+e._s(n.name)+" ")])]}}])}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("product.alias"),"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(" "+e._s(n.alias)+" ")])]}}])}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("user.createdtime"),"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(e._s(n.createtime))])]}}])}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("task.Operation"),"show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit"},on:{click:function(t){return e.handleEdit(n)}}},[e._v(" "+e._s(e.$translateTitle("developer.edit"))+" ")]),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",disabled:""},on:{click:function(t){return e.handleDelete(n)}}},[e._v(" "+e._s(e.$translateTitle("developer.delete"))+" ")])]}}])})],1),a("el-dialog",{attrs:{title:e.$translateTitle("developer.edit"),visible:e.roleEdit,width:"28%"},on:{"update:visible":function(t){e.roleEdit=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:e.$translateTitle("user.name"),"label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"300px"},attrs:{autocomplete:"off",disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("user.Remarks"),"label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"300px"},attrs:{autocomplete:"off"},model:{value:e.form.alias,callback:function(t){e.$set(e.form,"alias",t)},expression:"form.alias"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("developer.describe"),"label-width":e.formLabelWidth}},[a("el-input",{staticStyle:{width:"300px"},attrs:{rows:2,autocomplete:"off",type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.roleEdit=!1}}},[e._v(" "+e._s(e.$translateTitle("developer.cancel"))+" ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.updaterole}},[e._v(" "+e._s(e.$translateTitle("developer.determine"))+" ")])],1)],1)],1)},i=[],s=a("1da1"),l=(a("96cf"),a("4de4"),a("b0c0"),a("a4d3"),a("e01a"),a("d81d"),a("1ec2")),r=a("ed08"),o={components:{},data:function(){return{listLoading:!1,formLabelWidth:"120px",roleEdit:!1,form:{name:"",alias:"",description:""},search:"",defaultExpandAll:!0,key:1,permissionid:"",columns:[{label:"Name",key:"alias",expand:!0,align:"left"},{label:"Alias",key:"name",width:200,align:"center"},{label:"Created time",key:"scope"},{label:"Operation",key:"operation"}],data:[]}},computed:{treeData:function(){var e=JSON.parse(JSON.stringify(this.data));return e.filter((function(t){var a=e.filter((function(e){return t.objectId==e.parent}));return a.length>0&&(t.children=a),0==t.parent}))}},mounted:function(){this.getcontrolrole()},methods:{handleEdit:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.permissionid=e.objectId,a.next=3,Object(l["getPermission"])(e.objectId);case 3:n=a.sent,t.form.name=n.name,t.form.description=n.description,t.form.alias=n.alias,t.roleEdit=!0;case 8:case"end":return a.stop()}}),a)})))()},handleDelete:function(e){},addcontrol:function(){},getcontrolrole:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.listLoading=!0,e.data=[],t.next=4,Object(l["queryPermission"])({limit:1e3});case 4:a=t.sent,n=a.results,e.listLoading=!1,n?n.map((function(t){var a={};a.name=t.name,a.alias=t.alias,a.objectId=t.objectId,a.parent=t.parent.objectId,a.createtime=Object(r["utc2beijing"])(t.createdAt),e.data.push(a)})):e.data=[];case 8:case"end":return t.stop()}}),t)})))()},updaterole:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["putPermission"])(e.permissionid,{alias:e.form.alias,description:e.form.description});case 2:a=t.sent,a&&e.$message({type:"success",message:"更新成功"}),e.roleEdit=!1;case 5:case"end":return t.stop()}}),t)})))()}}},c=o,u=(a("f391"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,"39052a0f",null);t["default"]=d.exports},"958c":function(e,t,a){"use strict";a("af80")},"9ce3":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"menu"},[a("el-row",[a("el-col",{attrs:{lg:24,md:24,sm:2244,xl:24,xs:24}},[a("vab-query-form",[a("vab-query-form-top-panel",{attrs:{span:12}},[a("div",{staticClass:"search"},[a("el-button",{attrs:{icon:"el-icon-s-tools",type:"primary"},on:{click:function(t){return e.toggleExpandAll(e.isdefaultExpandAll)}}},[e._v(" "+e._s(e.$translateTitle("product.Expandcollapsemenu"))+" ")]),a("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:function(t){return e.handleEdit({},"one")}}},[e._v(" "+e._s(e.$translateTitle("product.Newfirstlevelmenu"))+" ")]),a("el-button",{attrs:{type:"primary"},on:{click:e.centerUploadBox}},[e._v(" "+e._s(e.$translateTitle("product.Importmenu"))+" "),a("i",{staticClass:"el-icon-upload el-icon--right"})]),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"inputer",attrs:{id:"fileExport",value:"上传菜单",type:"file"},on:{change:e.handleFileChange}})],1)])],1),e.refreshTable?a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.treeData,size:"mini","tree-props":{children:"children",hasChildren:"hasChildren"},border:"","default-sort":{prop:"orderBy",order:"ascending"},"default-expand-all":e.isdefaultExpandAll,"row-key":"objectId"},scopedSlots:e._u([{key:"empty",fn:function(){return[a("el-image",{staticClass:"vab-data-empty",attrs:{src:"http://dgiot-1253666439.cos.ap-shanghai-fsi.myqcloud.com/platform/assets/empty_images/data_empty.png"}})]},proxy:!0}],null,!1,3368913384)},[a("el-table-column",{attrs:{align:"center",fixed:"",label:e.$translateTitle("product.title"),width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(" "+e._s(n.meta.title)+" ")])]}}],null,!1,1074967671)}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("user.name"),prop:"name"}}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("developer.path"),width:"220",prop:"url","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("menu.sort"),sortable:"",prop:"orderBy"}}),a("el-table-column",{attrs:{align:"center",label:"vue "+e.$translateTitle("developer.filepath"),width:"400","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(" "+e._s(n.meta.component)+" ")])]}}],null,!1,1940007160)}),a("el-table-column",{attrs:{align:"center","show-overflow-tooltip":"",label:e.$translateTitle("developer.redirect"),width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("span",[e._v(" "+e._s(n.meta.redirect)+" ")])]}}],null,!1,2214697965)}),a("el-table-column",{attrs:{align:"center",label:e.$translateTitle("task.Advancedconfiguration"),"show-overflow-tooltip":"",width:200},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[e._v(" "+e._s(e.$translateTitle("product.Hideornot:"))+" "),a("el-tag",{attrs:{type:"success",title:e.$translateTitle("product.Hideornot")}},[e._v(" "+e._s(n.meta.hidden?e.$translateTitle("product.yes"):e.$translateTitle("product.no"))+" ")])],1),a("p",[e._v(" "+e._s(e.$translateTitle("product.Whetherthecurrentroutecanclosemultipletabs:"))+" "),n.meta?a("el-tag",{attrs:{type:"info",title:e.$translateTitle("product.Whetherthecurrentroutecanclosemultipletabs")}},[e._v(" "+e._s(n.meta.noClosable?e.$translateTitle("product.yes"):e.$translateTitle("product.no"))+" ")]):e._e()],1),a("p",[e._v(" "+e._s(e.$translateTitle("product.Nocache:"))+" "),n.meta?a("el-tag",{attrs:{title:e.$translateTitle("product.Nocache")}},[e._v(" "+e._s(n.meta.noKeepAlive?e.$translateTitle("product.yes"):e.$translateTitle("product.no"))+" ")]):e._e()],1),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[n.meta.icon?a("vab-icon",{attrs:{icon:n.meta.icon}}):e._e()],1)],1)])]}}],null,!1,915944654)}),a("el-table-column",{attrs:{width:"220px",fixed:"right",label:e.$translateTitle("developer.operation"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus",title:e.$translateTitle("menu.childrenmenu")},on:{click:function(t){return e.handleEdit(n,"addChildMenu")}}}),a("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-edit",title:e.$translateTitle("developer.edit")},on:{click:function(t){return e.handleEdit(n,"editMenu")}}}),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",title:e.$translateTitle("developer.delete")+n.meta.title},on:{click:function(t){return e.handleDelete(n)}}})]}}],null,!1,2099919197)})],1):e._e()],1)],1),a("edit",{ref:"edit",on:{"fetch-data":e.fetchData}})],1)},i=[],s=a("1da1"),l=(a("96cf"),a("4de4"),a("d81d"),a("b0c0"),a("a15b"),a("b64b"),a("99af"),a("4f20")),r=a("ed08"),o=a("bc35"),c={name:"TreeTableDemo",components:{Edit:l["default"]},data:function(){return{refreshTable:"false",isdefaultExpandAll:!1,MenuForm:{name:"",url:"",roles:[],number:"",fathername:[]},list:[],listLoading:!0,data:[],defaultProps:{children:"children",label:"label"},props:{value:"objectId",label:"name",children:"children"},options:[],formLabelWidth:"120px",defaultExpandAll:!0,showCheckbox:!0,key:1,columns:[{label:"Menu name",key:"name",expand:!0,align:"left"},{label:"Menu path",key:"url",width:200,expand:!0,align:"center"},{label:"Navigation",key:"showtopmenu",expand:!0,align:"center"},{label:"Index",key:"number",expand:!0,width:100},{label:"Icon",key:"icon",expand:!0,width:100},{label:"Created time",key:"createtime",align:"center"},{label:"Operation",key:"operation",width:400}],search:"",dialogVisible:!1,tableData:[],form:{name:"",resource:"菜单",topname:"",menuroad:"",iconfont:"",number:""},parent:"",current:"",parentmenu:[{id:"0",attributes:{name:"顶级菜单"}}],originacl:[],menuid:"",originmenuurl:[],isaddmenu:!0,file:"",inputDOM:"",size:"",formData:""}},computed:{treeData:function(){var e=JSON.parse(JSON.stringify(this.data)),t=[];return t=e.filter((function(t){var a=e.filter((function(e){return t.objectId==e.parent}));return a.length>0&&(t.children=a),0==t.parent&&(t.parent="0"),0==t.parent})),t}},watch:{showCheckbox:function(e){e?this.columns.unshift({label:"Checkbox",checkbox:!0}):this.columns.shift(),this.reset()}},mounted:function(){this.fetchData(),this.originmenuurl=[],this.getoriginmenu(this.$router.options.routes),this.getRole()},methods:{toggleExpandAll:function(e){var t=this;this.refreshTable=!1,this.isdefaultExpandAll=!e,this.$nextTick((function(){t.refreshTable=!0}))},handleNodeClick:function(){this.fetchData()},getRole:function(){var e=this;Object(o["queryMenu"])({}).then((function(t){t.results.map((function(t){var a={};a.objectId=t.objectId,a.alias=t.alias,a.name=t.name,e.options.push(a)}))}))},SelectTopmenu:function(e){},getoriginmenu:function(e){var t=this;e.map((function(e){if(!e.hidden&&e.path){if("/"!=e.path){var a={};a.path=e.path,a.name=e.name,t.originmenuurl.push(a)}e.children&&t.getoriginmenu(e.children)}}))},centerUploadBox:function(){this.$refs.inputer.click()},handleFileChange:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.inputDOM=t.$refs.inputer,/\.zip$/.test(t.inputDOM.files[0].name)){e.next=6;break}return t.$message({type:"warning",message:"仅支持zip文件"}),e.abrupt("return",!1);case 6:return t.file=t.inputDOM.files[0],t.size=Math.floor(t.file.size/1024),t.formData=new FormData,t.formData.append("file",t.file),e.next=12,Object(o["add"])(t.formData);case 12:a=e.sent,a?(t.$message({type:"success",message:"菜单导入成功"}),setTimeout((function(){t.file="",t.inputDOM="",t.size="",t.formData="",t.fetchData()}),1500)):t.$message({type:"error",message:"菜单导入失败"});case 14:case"end":return e.stop()}}),e)})))()},reset:function(){++this.key},click:function(e){var t=e.row,a=Object.keys(t).map((function(e){return"<p>".concat(e,": ").concat(t[e],"</p>")})).join("");this.$notify({title:"Success",dangerouslyUseHTMLString:!0,message:a,type:"success"})},getParent:function(e,t,a){var n=this;return e.map((function(i){i.objectId==t?(a.push(i.objectId),n.getParent(e,i.parent,a)):0==i.parent&&i.objectId==t&&a.push(i.objectId)})),a.length>=1&&0!=a[0]&&a.unshift("0"),a},handleDelete:function(e){var t=this;e.children?this.$message({type:"warning",message:"请先删除此菜单中的子菜单!"}):this.$del_object("Menu",e.objectId).then((function(e){e.error?t.$message({type:"error",message:"删除失败!"}):(t.$message({type:"success",message:"删除成功!"}),t.fetchData())}))},searchvalue:function(){},handleClose:function(){this.dialogVisible=!1},handleEdit:function(e,t){this.$refs["edit"].showEdit(e,t)},fetchData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.data=[],e.listLoading=!0,t.next=4,Object(o["queryMenu"])({});case 4:a=t.sent,n=a.results,n.map((function(t){var a=t.meta,n=void 0===a?{}:a,i=t.name,s=t.objectId,l=t.icon,o=t.parent,c=t.createdAt,u=t.orderBy,d=t.url,p={};p.name=i,p.meta=n,p.objectId=s,p.icon=l,p.parent=o.objectId,p.createtime=Object(r["utc2beijing"])(c),p.orderBy=u,p.url=d,e.data.push(p)})),e.listLoading=!1;case 8:case"end":return t.stop()}}),t)})))()}}},u=c,d=(a("acc8"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,"bb835354",null);t["default"]=p.exports},a0d0:function(e,t,a){},a129:function(e,t,a){"use strict";a("ba4e")},a173:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"BasicInfo"},[a("el-form",{ref:"formRef",attrs:{inline:!0,model:e.BasicInfoObj,size:"small","label-width":"68px",disabled:""}},[a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{label:"产品名称"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{clearable:""},model:{value:e.BasicInfoObj.name,callback:function(t){e.$set(e.BasicInfoObj,"name",t)},expression:"BasicInfoObj.name"}},e._l(e.defaultObj.productOpt,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"水泵型号"}},[a("el-input",{staticClass:"eipt",staticStyle:{width:"127px"},model:{value:e.BasicInfoObj.xinghao,callback:function(t){e.$set(e.BasicInfoObj,"xinghao",t)},expression:"BasicInfoObj.xinghao"}})],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"出厂编号"}},[a("el-input",{staticClass:"eipt",model:{value:e.BasicInfoObj.chuchangbianhao,callback:function(t){e.$set(e.BasicInfoObj,"chuchangbianhao",t)},expression:"BasicInfoObj.chuchangbianhao"}})],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"试验编号"}},[a("el-input",{staticClass:"eipt",model:{value:e.BasicInfoObj.bianhao,callback:function(t){e.$set(e.BasicInfoObj,"bianhao",t)},expression:"BasicInfoObj.bianhao"}})],1)],1),a("el-col",{staticClass:"ep0",attrs:{span:4}},[a("el-form-item",{attrs:{label:"产品编号"}},[a("el-input",{staticClass:"eipt",model:{value:e.BasicInfoObj.chanpinbianhao,callback:function(t){e.$set(e.BasicInfoObj,"chanpinbianhao",t)},expression:"BasicInfoObj.chanpinbianhao"}})],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"送样单位"}},[a("el-select",{staticClass:"ep50",model:{value:e.BasicInfoObj.songyangN,callback:function(t){e.$set(e.BasicInfoObj,"songyangN",t)},expression:"BasicInfoObj.songyangN"}},[a("el-option",{attrs:{label:"利欧集团湖南泵业有限公司",value:"shanghai"}}),a("el-option",{attrs:{label:"LEO Group PUMP (HUNAN) CO , LTD",value:"beijing"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位地址"}},[a("el-select",{staticClass:"ep50",model:{value:e.BasicInfoObj.jingxiaoAddr,callback:function(t){e.$set(e.BasicInfoObj,"jingxiaoAddr",t)},expression:"BasicInfoObj.jingxiaoAddr"}},[a("el-option",{attrs:{label:"湖南湘潭九华示范区",value:"湖南湘潭九华示范区"}}),a("el-option",{attrs:{label:"",value:"Jiuhua Demonstration Area, Xiangtan, Hunan"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"生产单位"}},[a("el-select",{staticClass:"ep50",model:{value:e.BasicInfoObj.shengchanN,callback:function(t){e.$set(e.BasicInfoObj,"shengchanN",t)},expression:"BasicInfoObj.shengchanN"}},[a("el-option",{attrs:{label:"利欧集团湖南泵业有限公司",value:"shanghai"}}),a("el-option",{attrs:{label:"LEO Group PUMP (HUNAN) CO , LTD",value:"beijing"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位地址"}},[a("el-select",{staticClass:"ep50",model:{value:e.BasicInfoObj.shengchanAddr,callback:function(t){e.$set(e.BasicInfoObj,"shengchanAddr",t)},expression:"BasicInfoObj.shengchanAddr"}},[a("el-option",{attrs:{label:"湖南湘潭九华示范区",value:"湖南湘潭九华示范区"}}),a("el-option",{attrs:{label:"",value:"Jiuhua Demonstration Area, Xiangtan, Hunan"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"委托单位"}},[a("el-select",{staticClass:"ep50",model:{value:e.BasicInfoObj.weituo,callback:function(t){e.$set(e.BasicInfoObj,"weituo",t)},expression:"BasicInfoObj.weituo"}},[a("el-option",{attrs:{label:"利欧集团湖南泵业有限公司",value:"shanghai"}}),a("el-option",{attrs:{label:"LEO Group PUMP (HUNAN) CO , LTD",value:"beijing"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"单位地址"}},[a("el-select",{staticClass:"ep50",model:{value:e.BasicInfoObj.weituoAddr,callback:function(t){e.$set(e.BasicInfoObj,"weituoAddr",t)},expression:"BasicInfoObj.weituoAddr"}},[a("el-option",{attrs:{label:"湖南湘潭九华示范区",value:"湖南湘潭九华示范区"}}),a("el-option",{attrs:{label:"",value:"Jiuhua Demonstration Area, Xiangtan, Hunan"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"检验依据"}},[a("el-select",{staticClass:"ep50",model:{value:e.BasicInfoObj.jianyanbiaozhun,callback:function(t){e.$set(e.BasicInfoObj,"jianyanbiaozhun",t)},expression:"BasicInfoObj.jianyanbiaozhun"}},[a("el-option",{attrs:{label:"湖南湘潭九华示范区",value:"湖南湘潭九华示范区"}}),a("el-option",{attrs:{label:"",value:"Jiuhua Demonstration Area, Xiangtan, Hunan"}})],1)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"抽样地点"}},[a("el-select",{staticClass:"ep50",model:{value:e.BasicInfoObj.chouyangAddr,callback:function(t){e.$set(e.BasicInfoObj,"chouyangAddr",t)},expression:"BasicInfoObj.chouyangAddr"}},[a("el-option",{attrs:{label:"利欧集团湖南泵业有限公司",value:"shanghai"}}),a("el-option",{attrs:{label:"LEO Group PUMP (HUNAN) CO , LTD",value:"beijing"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"抽样基数"}},[a("el-input",{staticClass:"ep50",model:{value:e.BasicInfoObj.chouyangjishu,callback:function(t){e.$set(e.BasicInfoObj,"chouyangjishu",t)},expression:"BasicInfoObj.chouyangjishu"}})],1)],1)],1),a("el-row",{staticClass:"beizhu"},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"电机规格"}},[a("el-input",{model:{value:e.BasicInfoObj.guige,callback:function(t){e.$set(e.BasicInfoObj,"guige",t)},expression:"BasicInfoObj.guige"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"电机效率"}},[a("el-input",{model:{value:e.BasicInfoObj.xiaolv,callback:function(t){e.$set(e.BasicInfoObj,"xiaolv",t)},expression:"BasicInfoObj.xiaolv"}},[a("template",{slot:"append"},[e._v("%")])],2)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"样品台数"}},[a("el-input",{model:{value:e.BasicInfoObj.taishu,callback:function(t){e.$set(e.BasicInfoObj,"taishu",t)},expression:"BasicInfoObj.taishu"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"样品状态"}},[a("el-input",{model:{value:e.BasicInfoObj.dengji,callback:function(t){e.$set(e.BasicInfoObj,"dengji",t)},expression:"BasicInfoObj.dengji"}})],1)],1)],1),a("el-row",{staticClass:"beizhu"},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"试验人员"}},[a("el-input",{model:{value:e.BasicInfoObj.shiyanName,callback:function(t){e.$set(e.BasicInfoObj,"shiyanName",t)},expression:"BasicInfoObj.shiyanName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"试验日期"}},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date"},model:{value:e.BasicInfoObj.shiyanDateTime,callback:function(t){e.$set(e.BasicInfoObj,"shiyanDateTime",t)},expression:"BasicInfoObj.shiyanDateTime"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"送样人员"}},[a("el-input",{model:{value:e.BasicInfoObj.songyangN,callback:function(t){e.$set(e.BasicInfoObj,"songyangN",t)},expression:"BasicInfoObj.songyangN"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"送样日期"}},[a("el-date-picker",{attrs:{type:"date"},model:{value:e.BasicInfoObj.songyangDateTime,callback:function(t){e.$set(e.BasicInfoObj,"songyangDateTime",t)},expression:"BasicInfoObj.songyangDateTime"}})],1)],1)],1),a("el-row",{staticClass:"beizhu1"},[a("el-col",{attrs:{span:24}},[a("el-form-item",{staticStyle:{width:"100%",display:"block"},attrs:{label:"备注"}},[a("el-input",{attrs:{rows:2,autosize:{minRows:1,maxRows:1},type:"textarea"},model:{value:e.BasicInfoObj.beizhu,callback:function(t){e.$set(e.BasicInfoObj,"beizhu",t)},expression:"BasicInfoObj.beizhu"}})],1)],1)],1)],1)],1)},i=[],s=a("5530"),l=a("ade3"),r=a("5880"),o=a("eb2f"),c={name:"BasicInfo",data:function(){var e;return{test:"aaaa",defaultObj:{productOpt:[{value:"中开泵",label:"中开泵"},{value:"多级泵",label:"多级泵"},{value:"斜流泵",label:"斜流泵"},{value:"长轴泵",label:"长轴泵"},{value:"渣浆泵",label:"渣浆泵"},{value:"中开多级泵",label:"中开多级泵"},{value:"液下多级泵",label:"液下多级泵"},{value:"离心泵",label:"离心泵"},{value:"多级离心泵",label:"多级离心泵"},{value:"输油管线泵",label:"输油管线泵"},{value:"立式多级泵",label:"立式多级泵"},{value:"潜水泵",label:"潜水泵"},{value:"轴流泵",label:"轴流泵"},{value:"中开泵 Axially split pump",label:"中开泵 Axially split pump"},{value:"多级泵 Multistage pump",label:"多级泵 Multistage pump"},{value:"斜流泵 Diagonal flow pump",label:"斜流泵 Diagonal flow pump"},{value:"立式长轴泵 Vertical long shaft pump",label:"立式长轴泵 Vertical long shaft pump"},{value:"脱硫泵 Desulphurization pump",label:"脱硫泵 Desulphurization pump"},{value:"渣浆泵 Slurry pump",label:"渣浆泵 Slurry pump"},{value:"中开多级泵 Intermediate stage pump",label:"中开多级泵 Intermediate stage pump"},{value:"液下多级泵 Lower level pump",label:"液下多级泵 Lower level pump"},{value:"离心泵 Centrifugal pump",label:"离心泵 Centrifugal pump"},{value:"多级离心泵 Multistage centrifugal pump",label:"多级离心泵 Multistage centrifugal pump"},{value:"输油管线泵 Pipline pump",label:"输油管线泵 Pipline pump"},{value:"立式多级泵 Vertical multistage pump",label:"立式多级泵 Vertical multistage pump"},{value:"潜水泵 Immersible pump",label:"潜水泵 Immersible pump"},{value:"轴流泵 Axial flow pump",label:"轴流泵 Axial flow pump"},{value:"混流泵 Mixed-flow pump",label:"混流泵 Mixed-flow pump"}]},BasicInfoObj:(e={name:"",xinghao:"",chuchangbianhao:"",bianhao:"",chanpinbianhao:"",songyangN:"",jingxiaoAddr:"",shengchanN:"",shengchanAddr:"",weituo:"",weituoAddr:"",jianyanbiaozhun:"",chouyangAddr:"",chouyangjishu:"",guige:"",xiaolv:"",taishu:"",dengji:"",shiyanName:"",shiyanDateTime:""},Object(l["a"])(e,"songyangN",""),Object(l["a"])(e,"shengchanAddr",""),Object(l["a"])(e,"songyangDateTime",""),Object(l["a"])(e,"beizhu",""),e)}},computed:Object(s["a"])({taskid:function(){return this.$route.query.taskid},fileDomain:function(){return this.$getUrlPrefix(this.$Cookies.get("fileserver"))}},Object(r["mapState"])({currentTask:function(e){return e.deviceData.currentTask}})),created:function(){},mounted:function(){o["eventBus"].$on("taskdialog",this.resetForm)},beforeDestroy:function(){o["eventBus"].$off("taskdialog")},methods:{resetForm:function(e){this.$refs["formRef"].resetFields()},fillFormData:function(e){Object.assign(this.BasicInfoObj,e)}}},u=c,d=(a("958c"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,null,null);t["default"]=p.exports},aaa8:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"departmentforuser"},[e._v("岗位管理")])},i=[],s={data:function(){return{}},mounted:function(){},methods:{}},l=s,r=a("2877"),o=Object(r["a"])(l,n,i,!1,null,"290543ff",null);t["default"]=o.exports},aab9:function(e,t,a){"use strict";a("d15b")},ac14:function(e,t,a){"use strict";a("1aa0")},acc8:function(e,t,a){"use strict";a("7e81")},af80:function(e,t,a){e.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#282c34","column-second-menu-background":"#fff"}},b2d3:function(e,t,a){"use strict";a("2ee3")},b3ec:function(e,t,a){"use strict";a("899f")},b9ae:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"prescribedPoint"},[a("el-form",{ref:"prescribedPointForm",attrs:{inline:!0,model:e.prescribedPointForm,disabled:""}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("div",[a("el-form-item",{attrs:{label:"测试点个数"}},[a("el-select",{attrs:{placeholder:"请选择个数"},model:{value:e.prescribedPointForm.point,callback:function(t){e.$set(e.prescribedPointForm,"point",t)},expression:"prescribedPointForm.point"}},e._l(20,(function(e){return a("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1)],1),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:12}},[a("el-radio",{attrs:{label:"flow"},model:{value:e.averagePoint,callback:function(t){e.averagePoint=t},expression:"averagePoint"}},[e._v(" 流量作为均分点 ")]),a("el-row",[a("el-form-item",{attrs:{label:"最小流量"}},[a("el-input",{attrs:{disabled:"lift"==e.averagePoint,size:"small"},model:{value:e.prescribedPointForm.zuixiaoliuliang,callback:function(t){e.$set(e.prescribedPointForm,"zuixiaoliuliang",t)},expression:"prescribedPointForm.zuixiaoliuliang"}})],1),a("el-form-item",{attrs:{label:"最大流量"}},[a("el-input",{attrs:{disabled:"lift"==e.averagePoint,size:"small"},model:{value:e.prescribedPointForm.zuidaliuliang,callback:function(t){e.$set(e.prescribedPointForm,"zuidaliuliang",t)},expression:"prescribedPointForm.zuidaliuliang"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("div",[a("el-radio",{attrs:{label:"lift"},model:{value:e.averagePoint,callback:function(t){e.averagePoint=t},expression:"averagePoint"}},[e._v(" 扬程作为均分点 ")])],1),a("el-row",[a("el-form-item",{attrs:{label:"最小扬程"}},[a("el-input",{attrs:{disabled:"flow"==e.averagePoint,size:"small"},model:{value:e.prescribedPointForm.zuixiaoyangcheng,callback:function(t){e.$set(e.prescribedPointForm,"zuixiaoyangcheng",t)},expression:"prescribedPointForm.zuixiaoyangcheng"}})],1),a("el-form-item",{attrs:{label:"最大扬程"}},[a("el-input",{attrs:{disabled:"flow"==e.averagePoint,size:"small"},model:{value:e.prescribedPointForm.zuidayangcheng,callback:function(t){e.$set(e.prescribedPointForm,"zuidayangcheng",t)},expression:"prescribedPointForm.zuidayangcheng"}})],1)],1)],1)],1),a("el-divider",[e._v("规定流量（小流量）")]),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"规定流量(小流量)："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllxlll,callback:function(t){e.$set(e.prescribedPointForm,"edllxlll",t)},expression:"prescribedPointForm.edllxlll"}},[a("template",{slot:"append"},[e._v("m/s")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"规定扬程："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllgdyc,callback:function(t){e.$set(e.prescribedPointForm,"edllgdyc",t)},expression:"prescribedPointForm.edllgdyc"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"轴功率："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzhougv1,callback:function(t){e.$set(e.prescribedPointForm,"edllzhougv1",t)},expression:"prescribedPointForm.edllzhougv1"}},[a("template",{slot:"append"},[e._v("W")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"效率："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllxiaolv1,callback:function(t){e.$set(e.prescribedPointForm,"edllxiaolv1",t)},expression:"prescribedPointForm.edllxiaolv1"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"气蚀余量："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllqishi1,callback:function(t){e.$set(e.prescribedPointForm,"edllqishi1",t)},expression:"prescribedPointForm.edllqishi1"}},[a("template",{slot:"append"},[e._v("M")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"额定转速："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzs,callback:function(t){e.$set(e.prescribedPointForm,"edllzs",t)},expression:"prescribedPointForm.edllzs"}},[a("template",{slot:"append"},[e._v("m/s")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"轴承温升"}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzcws,callback:function(t){e.$set(e.prescribedPointForm,"edllzcws",t)},expression:"prescribedPointForm.edllzcws"}},[a("template",{slot:"append"},[e._v("℃")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"振动"}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzd,callback:function(t){e.$set(e.prescribedPointForm,"edllzd",t)},expression:"prescribedPointForm.edllzd"}},[a("template",{slot:"append"},[e._v("mm/s")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"噪声"}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzsheng,callback:function(t){e.$set(e.prescribedPointForm,"edllzsheng",t)},expression:"prescribedPointForm.edllzsheng"}},[a("template",{slot:"append"},[e._v("dB(A)")])],2)],1)],1)],1),a("el-divider",[e._v("额定流量")]),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"规定流量(额定流量)： "}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllxlll2,callback:function(t){e.$set(e.prescribedPointForm,"edllxlll2",t)},expression:"prescribedPointForm.edllxlll2"}},[a("template",{slot:"append"},[e._v("m/s")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"规定扬程："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllgdyc2,callback:function(t){e.$set(e.prescribedPointForm,"edllgdyc2",t)},expression:"prescribedPointForm.edllgdyc2"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"轴功率："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzhougv12,callback:function(t){e.$set(e.prescribedPointForm,"edllzhougv12",t)},expression:"prescribedPointForm.edllzhougv12"}},[a("template",{slot:"append"},[e._v("W")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"效率："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllxiaolv12,callback:function(t){e.$set(e.prescribedPointForm,"edllxiaolv12",t)},expression:"prescribedPointForm.edllxiaolv12"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"气蚀余量："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllqishi12,callback:function(t){e.$set(e.prescribedPointForm,"edllqishi12",t)},expression:"prescribedPointForm.edllqishi12"}},[a("template",{slot:"append"},[e._v("M")])],2)],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"额定转速："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzs2,callback:function(t){e.$set(e.prescribedPointForm,"edllzs2",t)},expression:"prescribedPointForm.edllzs2"}},[a("template",{slot:"append"},[e._v("m/s")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"轴承温升"}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzcws2,callback:function(t){e.$set(e.prescribedPointForm,"edllzcws2",t)},expression:"prescribedPointForm.edllzcws2"}},[a("template",{slot:"append"},[e._v("℃")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"振动"}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzd2,callback:function(t){e.$set(e.prescribedPointForm,"edllzd2",t)},expression:"prescribedPointForm.edllzd2"}},[a("template",{slot:"append"},[e._v("mm/s")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"噪声"}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzsheng2,callback:function(t){e.$set(e.prescribedPointForm,"edllzsheng2",t)},expression:"prescribedPointForm.edllzsheng2"}},[a("template",{slot:"append"},[e._v("dB(A)")])],2)],1)],1)],1),a("el-divider",[e._v("规定流量（大流量）")]),a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"规定流量(大流量)："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllxlll3,callback:function(t){e.$set(e.prescribedPointForm,"edllxlll3",t)},expression:"prescribedPointForm.edllxlll3"}},[a("template",{slot:"append"},[e._v("m/s")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"规定扬程："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllgdyc3,callback:function(t){e.$set(e.prescribedPointForm,"edllgdyc3",t)},expression:"prescribedPointForm.edllgdyc3"}},[a("template",{slot:"append"},[e._v("mm")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"轴功率："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzhougv13,callback:function(t){e.$set(e.prescribedPointForm,"edllzhougv13",t)},expression:"prescribedPointForm.edllzhougv13"}},[a("template",{slot:"append"},[e._v("W")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"效率："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllxiaolv13,callback:function(t){e.$set(e.prescribedPointForm,"edllxiaolv13",t)},expression:"prescribedPointForm.edllxiaolv13"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"气蚀余量："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllqishi13,callback:function(t){e.$set(e.prescribedPointForm,"edllqishi13",t)},expression:"prescribedPointForm.edllqishi13"}},[a("template",{slot:"append"},[e._v("M")])],2)],1)],1)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"额定转速："}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzs3,callback:function(t){e.$set(e.prescribedPointForm,"edllzs3",t)},expression:"prescribedPointForm.edllzs3"}},[a("template",{slot:"append"},[e._v("m/s")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"轴承温升"}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzcws3,callback:function(t){e.$set(e.prescribedPointForm,"edllzcws3",t)},expression:"prescribedPointForm.edllzcws3"}},[a("template",{slot:"append"},[e._v("℃")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"振动"}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzd3,callback:function(t){e.$set(e.prescribedPointForm,"edllzd3",t)},expression:"prescribedPointForm.edllzd3"}},[a("template",{slot:"append"},[e._v("mm/s")])],2)],1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"噪声"}},[a("el-input",{attrs:{size:"small"},model:{value:e.prescribedPointForm.edllzsheng3,callback:function(t){e.$set(e.prescribedPointForm,"edllzsheng3",t)},expression:"prescribedPointForm.edllzsheng3"}},[a("template",{slot:"append"},[e._v("dB(A)")])],2)],1)],1)],1)],1)],1)},i=[],s=(a("5880"),a("eb2f")),l={name:"SouthPrescribedPoint",data:function(){return{prescribedPointForm:{edllxlll:"",edllgdyc:"",edllzhougv1:"",edllxiaolv1:"",edllqishi1:"",edllzs:"",edllzcws:"",edllzd:"",edllzsheng:"",edllxlll2:"",edllgdyc2:"",edllzhougv12:"",edllxiaolv12:"",edllqishi12:"",edllzs2:"",edllzcws2:"",edllzd2:"",edllzsheng2:"",edllxlll3:"",edllgdyc3:"",edllzhougv13:"",edllxiaolv13:"",edllqishi13:"",edllzs3:"",edllzcws3:"",edllzd3:"",edllzsheng3:"",rpm:"",point:"",Q1:"",H1:"",zhougv1:"",xiaolv1:"",qishi1:"",Q2:"",H2:"",zhougv2:"",xiaolv2:"",qishi2:"",Q3:"",H3:"",zhougv3:"",xiaolv3:"",qishi3:"",glysG:"",glysRC:"",NpshG:"",NpRC:"",temzcG:"",tR:"",zhendongG:"",DJXL:""},pointDataArr:[],formRule:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}],region:[{required:!0,message:"请选择活动区域",trigger:"change"}]},averagePoint:"flow"}},computed:{taskid:function(){return this.$route.query.taskid},fileDomain:function(){return this.$getUrlPrefix(this.$Cookies.get("fileserver"))}},created:function(){},mounted:function(){s["eventBus"].$on("taskdialog",this.resetForm)},beforeDestroy:function(){s["eventBus"].$off("taskdialog")},methods:{resetForm:function(e){this.$refs["prescribedPointForm"].resetFields()},average:function(){var e=this.prescribedPointForm.point;switch(this.averagePoint){case"flow":var t=this.prescribedPointForm.zuidaliuliang,a=this.prescribedPointForm.zuixiaoliuliang;break;case"lift":t=this.prescribedPointForm.zuidayangcheng,a=this.prescribedPointForm.zuixiaoyangcheng;break;default:break}this.pointDataArr=[];for(var n=(t-a)/(e-1),i=1;i<=e;i++){this.pointDataArr[i-1]={};var s=n*(i-1)+parseFloat(a);this.pointDataArr[i-1][this.averagePoint]=Math.floor(100*s)/100}},fillFormData:function(e){Object.assign(this.prescribedPointForm,e)},getFormData:function(){var e={point:this.prescribedPointForm.point,rpm:this.prescribedPointForm.rpm,Q1:this.prescribedPointForm.Q1,H1:this.prescribedPointForm.H1,zhougv1:this.prescribedPointForm.zhougv1,xiaolv1:this.prescribedPointForm.xiaolv1,qishi1:this.prescribedPointForm.qishi1,gddxl:this.prescribedPointForm.gddxl,Q2:this.prescribedPointForm.Q2,H2:this.prescribedPointForm.H2,zhougv2:this.prescribedPointForm.zhougv2,xiaolv2:this.prescribedPointForm.xiaolv2,qishi2:this.prescribedPointForm.qishi2,glysG:this.prescribedPointForm.glysG,glysRC:this.prescribedPointForm.glysRC,NpshG:this.prescribedPointForm.NpshG,NpRC:this.prescribedPointForm.NpRC,temzcG:this.prescribedPointForm.temzcG,tR:this.prescribedPointForm.tR,zhendongG:this.prescribedPointForm.zhendongG,DJXL:this.prescribedPointForm.DJXL,Q3:this.prescribedPointForm.Q3,H3:this.prescribedPointForm.H3,zhougv3:this.prescribedPointForm.zhougv3,xiaolv3:this.prescribedPointForm.xiaolv3,qishi3:this.prescribedPointForm.qishi3,pointDataArr:this.pointDataArr};switch(this.averagePoint){case"flow":e.zuidaliuliang=this.prescribedPointForm.zuidaliuliang,e.zuixiaoliuliang=this.prescribedPointForm.zuixiaoliuliang;break;case"lift":e.zuidayangcheng=this.prescribedPointForm.zuidayangcheng,e.zuixiaoyangcheng=this.prescribedPointForm.zuixiaoyangcheng;break;default:break}return e}}},r=l,o=a("2877"),c=Object(o["a"])(r,n,i,!1,null,null,null);t["default"]=c.exports},ba4e:function(e,t,a){e.exports={"menu-color":"rgba(255,255,255,.95)","menu-color-active":"rgba(255,255,255,.95)","menu-background":"#282c34","column-second-menu-background":"#fff"}},bb1d:function(e,t,a){"use strict";a("1a25")},cf09:function(e,t,a){},d15b:function(e,t,a){},d168:function(e,t,a){},e332:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"department"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-table",{attrs:{data:e.roletempList,"row-class-name":e.tableRowClassName,"row-style":e.selectedHighlight,size:"small",border:"","highlight-current-row":""},on:{"row-click":e.getDetailmenu}},[a("el-table-column",{attrs:{label:e.$translateTitle("user.name"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.data.name))]),a("span",[e._v("( "+e._s(t.row.key)+" )")])]}}])}),a("el-table-column",{attrs:{label:e.$translateTitle("developer.operation"),width:"180",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return a.stopPropagation(),e.exportRoletemp(t.row)}}},[e._v(" "+e._s(e.$translateTitle("equipment.Updatetemplate"))+" ")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return a.stopPropagation(),e.handleDelete(t.$index,t.row,e.roletempList)}}},[e._v(" "+e._s(e.$translateTitle("task.Delete"))+" ")])]}}])})],1)],1),a("el-col",{attrs:{span:8}},[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"footerleft"},[a("p",{staticClass:"top"},[a("span",{staticClass:"svg-container"},[a("vab-icon",{attrs:{icon:"role_group"}})],1),a("span",[e._v(" "+e._s(e.$translateTitle("user.assignroles1"))+" ")])]),a("div",{staticClass:"rolecontrol"},[a("el-tree",{ref:"permissionTree",attrs:{data:e.permissionTreeData,"default-checked-keys":e.rolePermissonList,"expand-on-click-node":!1,"show-checkbox":"","node-key":"name",accordion:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node;return a("span",{staticClass:"custom-tree-node"},[a("span",[e._v(e._s(n.label))])])}}])})],1)])]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"footerright"},[a("p",{staticClass:"top"},[a("span",{staticClass:"svg-container"},[a("vab-icon",{attrs:{icon:"menu_group"}})],1),a("span",[e._v(" "+e._s(e.$translateTitle("user.assignmenu"))+" ")])]),a("div",{staticClass:"menucontrol",staticStyle:{"margin-top":"30px"}},[a("el-tree",{ref:"menusTree",attrs:{data:e.menuTreeData,"default-checked-keys":e.roleMenuList,"expand-on-click-node":!1,"show-checkbox":"","node-key":"objectId","default-props":"",accordion:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,i=t.data;return a("span",{staticClass:"custom-tree-node"},[e._v(" "+e._s(i.title?i.title:n.label)+" ")])}}])})],1)])])],1),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"footerleft"},[a("p",{staticClass:"top"},[a("span",{staticClass:"svg-container"},[a("vab-icon",{attrs:{icon:"role_group"}})],1),a("span",[e._v(" "+e._s(e.$translateTitle("user.labelinformation"))+" ")])])]),a("div",{staticClass:"tags"},[a("el-form",{ref:"form",attrs:{rules:e.Rule,model:e.form,"label-width":"170px"}},[a("el-form-item",{attrs:{label:e.$translateTitle("application.Accesskey")}},[a("el-input",{staticStyle:{width:"80%"},attrs:{readonly:""},model:{value:e.form.secret,callback:function(t){e.$set(e.form,"secret",t)},expression:"form.secret"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-refresh-right"},on:{click:e.handleClickRefresh},slot:"append"})],1)],1),a("el-form-item",{attrs:{label:e.$translateTitle("application.tokeneffectivetime")}},[a("el-input",{staticStyle:{width:"80%"},attrs:{type:"number",placheholder:e.$translateTitle("product.enterapptime")},model:{value:e.form.expires,callback:function(t){e.$set(e.form,"expires",t)},expression:"form.expires"}}),a("span",{staticStyle:{"margin-left":"5px"}},[e._v(" "+e._s(e.$translateTitle("task.Seconds"))+" ")])],1),a("el-form-item",{attrs:{label:e.$translateTitle("product.Wordpreviewserver")}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placheholder:e.$translateTitle("product.enter1")+e.$translateTitle("product.Wordpreviewserver")},model:{value:e.form.wordpreview,callback:function(t){e.$set(e.form,"wordpreview",t)},expression:"form.wordpreview"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("product.Wordproductionserver")}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placheholder:e.$translateTitle("product.enter1")+e.$translateTitle("product.Wordproductionserver")},model:{value:e.form.wordproduct,callback:function(t){e.$set(e.form,"wordproduct",t)},expression:"form.wordproduct"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("application.fileresources"),prop:"file"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placheholder:e.$translateTitle("product.enter1")+e.url},model:{value:e.form.file,callback:function(t){e.$set(e.form,"file",t)},expression:"form.file"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("application.Configurationresources"),prop:"topo"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placheholder:e.$translateTitle("product.enter1")+e.url},model:{value:e.form.topo,callback:function(t){e.$set(e.form,"topo",t)},expression:"form.topo"}})],1),a("el-form-item",{attrs:{label:"Graphql API",prop:"graphql"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placheholder:e.$translateTitle("product.enter1")+e.url},model:{value:e.form.graphql,callback:function(t){e.$set(e.form,"graphql",t)},expression:"form.graphql"}})],1),a("el-form-item",{attrs:{label:"Restful API",prop:"rest"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placheholder:e.$translateTitle("product.enter1")+e.url},model:{value:e.form.rest,callback:function(t){e.$set(e.form,"rest",t)},expression:"form.rest"}})],1),a("el-form-item",{attrs:{label:"home"}},[a("el-input",{staticStyle:{width:"80%"},attrs:{placheholder:e.$translateTitle("product.enter1")+e.$translateTitle("developer.path")},model:{value:e.form.home,callback:function(t){e.$set(e.form,"home",t)},expression:"form.home"}})],1)],1)],1)])],1)],1)},i=[],s=a("2909"),l=a("1da1"),r=(a("96cf"),a("4de4"),a("159b"),a("a9e3"),a("d81d"),a("b0c0"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("a434"),a("e0e9")),o=a("1ec2"),c=a("bc35"),u={name:"Department",components:{},data:function(){var e=function(e,t,a){var n=/^(((ht|f)tps?):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?$/;""===t||null===t?a(new Error("请输入url地址")):n.test(t)?a():a(new Error("请输入正确的url地址"))};return{Rule:{desc:[{required:!0,message:"请输入应用名称",trigger:"blur"},{validator:function(e,t,a){0===t.length?a(new Error("应用名称不能为空")):a()}}],file:[{trigger:"blur",validator:e}],topo:[{trigger:"blur",validator:e}],graphql:[{trigger:"blur",validator:e}],rest:[{trigger:"blur",validator:e}]},form:{file:"http://127.0.0.1:1250/shapes/upload",rest:"http://127.0.0.1:5080/iotapi",topo:"http://127.0.0.1:1350/",expires:18e3,wordpreview:"http://pump.iotn2n.com:8012",wordproduct:"http://pump.iotn2n.com/",graphql:"http://127.0.0.1:5080/graphql",secret:"RTc3MDk4MTgxNjAzMTc1MTUxMDY0",home:"E:/shuwa/4.1.0/shuwa_data_center/datacenter/file/files"},roletempList:[],dataMenus:[],roleMenuList:[],dataPermissions:[],rolePermissonList:[]}},computed:{permissionTreeData:function(){var e=this;return this.dataPermissions.filter((function(t){var a=[];return e.dataPermissions.forEach((function(e){t.objectId==e.parentId&&a.push(e)})),a.length>0&&(t.children=a),0==t.parentId}))},menuTreeData:function(){var e=JSON.parse(JSON.stringify(this.dataMenus));return e.filter((function(t){t.title=t.meta&&t.meta.title?t.meta.title:"";var a=e.filter((function(e){return t.objectId==e.parentId}));return a.length>0&&(t.children=a),0==t.parentId}))}},mounted:function(){this.gettable(),this.getMenu(),this.getRoleschema()},methods:{handleClickRefresh:function(){var e=Math.ceil(25*Math.random());this.form.secret=Base64.encode(String.fromCharCode(65+e)+Math.ceil(1e7*Math.random())+Number(new Date))},getMenu:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.data=[],e.dataMenus=[],t.next=4,Object(c["queryMenu"])({});case 4:a=t.sent,n=a.results,n&&(e.menuListRes=n,n.map((function(t){var a={};a.label=t.name,a.meta=t.meta,a.objectId=t.objectId,a.parentId=t.parent.objectId,a.createtime=new Date(t.createdAt).toLocaleDateString(),e.data.push(a),e.dataMenus.push(a)})));case 7:case"end":return t.stop()}}),t)})))()},gettable:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["queryDict"])({where:{type:"roletemp"}});case 2:a=t.sent,n=a.results,n&&(e.roletempList=n);case 5:case"end":return t.stop()}}),t)})))()},getRoleschema:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dataPermissions=[],t.next=3,Object(o["queryPermission"])({});case 3:a=t.sent,n=a.results,n&&(e.permissionListRes=n,n.map((function(t){var a={};a.label=t.alias,a.name=t.name,a.objectId=t.objectId,a.parentId=t.parent.objectId,a.createtime=new Date(t.createdAt).toLocaleDateString(),e.dataPermissions.push(a)})));case 6:case"end":return t.stop()}}),t)})))()},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.index=a},selectedHighlight:function(e){e.row;var t=e.rowIndex;if(this.currentSelectIndex===t)return{color:"#409EFF","font-weight":"bold"}},getDetailmenu:function(e,t,a,n){e.data.tag&&e.data.tag.appconfig?this.form=e.data.tag.appconfig:this.handleClickRefresh(),t&&"操作"==t.label||(this.currentSelectIndex=e.index,this.doSetChecked(e.data.menus,e.data.rules))},doSetChecked:function(e,t){var a=this;this.roleMenuList=[],this.rolePermissonList=[];var n=[];this.menuListRes.map((function(t){e.map((function(e){t.meta.title==e&&a.roleMenuList.push(t.objectId)}))})),this.$refs.menusTree.setCheckedKeys(this.roleMenuList),this.permissionListRes.map((function(e){t.map((function(t){e.name==t&&n.push(e.name)}))})),this.rolePermissonList=Object(s["a"])(new Set(n)),this.$refs.permissionTree.setCheckedKeys(this.rolePermissonList)},handleDelete:function(e,t,a){var n=this;return Object(l["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(r["delDict"])(t.objectId);case 2:s=i.sent,s?(n.$message({type:"success",message:"删除成功"}),a.splice(e,1)):n.$message({type:"error",message:"删除失败"});case 4:case"end":return i.stop()}}),i)})))()},exportRoletemp:function(e){var t=this;this.$confirm("确定要更新吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(l["a"])(regeneratorRuntime.mark((function a(){var n,i,s,l,o,c,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=[],i=[],s=t.$refs.menusTree.getCheckedNodes(),l=t.$refs.permissionTree.getCheckedNodes(),!(s&&l&&s.length>0&&l.length>0)){a.next=9;break}s.forEach((function(e){i.push(e.label)})),l.forEach((function(e){n.push(e.name)})),a.next=11;break;case 9:return t.$message({mesaage:"数据为空"}),a.abrupt("return");case 11:return o=e.data,e.data.tag||(o.tag={}),o["tag"].appconfig=t.form,o.menus=i,o.rules=n,c=t.$loading({background:"rgba(0, 0, 0, 0.5)"}),a.next=19,Object(r["putDict"])(e.objectId,{data:o});case 19:u=a.sent,u?(c.close(),u&&t.$message({message:"更新成功"})):(c.close(),t.$message({message:"更新失败"}));case 21:case"end":return a.stop()}}),a)})))).catch((function(e){}))}}},d=u,p=(a("eb08"),a("a129"),a("2877")),m=Object(p["a"])(d,n,i,!1,null,"1c272772",null);t["default"]=m.exports},e6e3:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"TestSetting"},[a("el-form",{ref:"formRef",attrs:{inline:!0,model:e.TestSettingObj,"label-width":"120px",disabled:""}},[a("el-row",[a("el-col",{attrs:{span:8}},[a("p",[e._v("检测精度")]),a("el-radio",{attrs:{label:"1"},model:{value:e.TestSettingObj.BasicSetting.testPrecision,callback:function(t){e.$set(e.TestSettingObj.BasicSetting,"testPrecision",t)},expression:"TestSettingObj.BasicSetting.testPrecision"}},[e._v(" 一级 ")]),a("el-radio",{attrs:{label:"2"},model:{value:e.TestSettingObj.BasicSetting.testPrecision,callback:function(t){e.$set(e.TestSettingObj.BasicSetting,"testPrecision",t)},expression:"TestSettingObj.BasicSetting.testPrecision"}},[e._v(" 二级 ")]),a("el-radio",{attrs:{label:"3"},model:{value:e.TestSettingObj.BasicSetting.testPrecision,callback:function(t){e.$set(e.TestSettingObj.BasicSetting,"testPrecision",t)},expression:"TestSettingObj.BasicSetting.testPrecision"}},[e._v(" 三级 ")])],1)],1),a("el-divider",{staticStyle:{color:"blue"},attrs:{"content-position":"left"}},[e._v(" 合格条件设置 ")]),a("el-row",{attrs:{gutter:24}},[a("el-col",{attrs:{span:3}},[a("p",[e._v("容差级别")]),a("el-select",{attrs:{size:"small"},on:{change:e.toleranceChange},model:{value:e.TestSettingObj.BasicSetting.dengji_test,callback:function(t){e.$set(e.TestSettingObj.BasicSetting,"dengji_test",t)},expression:"TestSettingObj.BasicSetting.dengji_test"}},e._l(e.levelOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e,value:e}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"合格条件"}},[a("el-select",{attrs:{"allow-create":""},on:{change:e.qConditionsChange},model:{value:e.qConditions,callback:function(t){e.qConditions=t},expression:"qConditions"}},[a("el-option",{attrs:{label:"GB/T3216-2016",value:"GB/T3216-2016"}}),a("el-option",{attrs:{label:"其他",value:"other"}})],1)],1)],1),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"num-wrap"},[a("span",{staticClass:"txt-label"},[e._v("tQ:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.curentConditonObj.tQz,expression:"curentConditonObj.tQz"}],staticClass:"num-inp",attrs:{disabled:"other"!=e.qConditions,type:"number"},domProps:{value:e.curentConditonObj.tQz},on:{input:function(t){t.target.composing||e.$set(e.curentConditonObj,"tQz",t.target.value)}}}),e._v(" % "),a("span",{staticClass:"txt-label"},[e._v("tH:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.curentConditonObj.tHf,expression:"curentConditonObj.tHf"}],staticClass:"num-inp",attrs:{disabled:"other"!=e.qConditions,type:"number"},domProps:{value:e.curentConditonObj.tHf},on:{input:function(t){t.target.composing||e.$set(e.curentConditonObj,"tHf",t.target.value)}}}),e._v(" % "),a("span",{staticClass:"txt-label"},[e._v("t η:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.curentConditonObj.tp_up,expression:"curentConditonObj.tp_up"}],staticClass:"num-inp",attrs:{disabled:"other"!=e.qConditions,type:"number"},domProps:{value:e.curentConditonObj.tp_up},on:{input:function(t){t.target.composing||e.$set(e.curentConditonObj,"tp_up",t.target.value)}}}),e._v(" % ")]),a("div",{staticClass:"num-wrap"},[a("span",{staticClass:"txt-label"},[e._v("tQ:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.curentConditonObj.tq_down,expression:"curentConditonObj.tq_down"}],staticClass:"num-inp",attrs:{disabled:"other"!=e.qConditions,type:"number"},domProps:{value:e.curentConditonObj.tq_down},on:{input:function(t){t.target.composing||e.$set(e.curentConditonObj,"tq_down",t.target.value)}}}),e._v(" % "),a("span",{staticClass:"txt-label"},[e._v("tH:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.curentConditonObj.th_down,expression:"curentConditonObj.th_down"}],staticClass:"num-inp",attrs:{disabled:"other"!=e.qConditions,type:"number"},domProps:{value:e.curentConditonObj.th_down},on:{input:function(t){t.target.composing||e.$set(e.curentConditonObj,"th_down",t.target.value)}}}),e._v(" % "),a("span",{staticClass:"txt-label"},[e._v("t η:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.curentConditonObj.te_down,expression:"curentConditonObj.te_down"}],staticClass:"num-inp",attrs:{disabled:"other"!=e.qConditions,type:"number"},domProps:{value:e.curentConditonObj.te_down},on:{input:function(t){t.target.composing||e.$set(e.curentConditonObj,"te_down",t.target.value)}}}),e._v(" % ")])])],1),a("el-divider",{staticStyle:{color:"blue"},attrs:{"content-position":"left"}},[e._v(" 稳定条件设置 ")]),a("el-row",[a("el-form-item",{attrs:{label:"流量,扬程,效率"}},[a("el-select",{attrs:{"allow-create":""},model:{value:e.TestSettingObj.StabilitySetting.FlowHeadEfficiency,callback:function(t){e.$set(e.TestSettingObj.StabilitySetting,"FlowHeadEfficiency",t)},expression:"TestSettingObj.StabilitySetting.FlowHeadEfficiency"}},[a("el-option",{attrs:{label:"GB/T3216-2016",value:"GB/T3216-2016"}}),a("el-option",{attrs:{label:"其他",value:"other"}})],1)],1),a("el-form-item",{attrs:{label:"转速"}},[a("el-select",{model:{value:e.TestSettingObj.StabilitySetting.Speed,callback:function(t){e.$set(e.TestSettingObj.StabilitySetting,"Speed",t)},expression:"TestSettingObj.StabilitySetting.Speed"}},[a("el-option",{attrs:{label:"GB/T3216-2016",value:"GB/T3216-2016"}}),a("el-option",{attrs:{label:"其他",value:"other"}})],1)],1)],1),a("el-divider",{staticStyle:{color:"blue"},attrs:{"content-position":"left"}},[e._v(" 波动范围设置 ")]),a("el-row",[a("el-form-item",{attrs:{label:"波动范围当前值"}},[a("el-input",{attrs:{type:"text"},model:{value:e.TestSettingObj.FluctuationSetting.CurrentValue,callback:function(t){e.$set(e.TestSettingObj.FluctuationSetting,"CurrentValue",t)},expression:"TestSettingObj.FluctuationSetting.CurrentValue"}},[a("template",{slot:"append"},[e._v("%")])],2)],1),a("el-form-item",{attrs:{label:"波动范围设定值"}},[a("el-input",{attrs:{type:"text"},model:{value:e.TestSettingObj.FluctuationSetting.SetValue,callback:function(t){e.$set(e.TestSettingObj.FluctuationSetting,"SetValue",t)},expression:"TestSettingObj.FluctuationSetting.SetValue"}},[a("template",{slot:"append"},[e._v("%")])],2)],1),a("el-button",{attrs:{size:"small"}},[e._v("同步")])],1),a("el-divider",{staticStyle:{color:"blue"},attrs:{"content-position":"left"}},[e._v(" 参数设置 ")]),a("el-row",[a("el-form-item",{attrs:{label:"重力加速度"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TestSettingObj.ParameterSetting.GravitationalAcceleration,callback:function(t){e.$set(e.TestSettingObj.ParameterSetting,"GravitationalAcceleration",t)},expression:"TestSettingObj.ParameterSetting.GravitationalAcceleration"}})],1),a("el-form-item",{attrs:{label:"进水管阻力损失"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TestSettingObj.ParameterSetting.InletPipeResistanceLoss,callback:function(t){e.$set(e.TestSettingObj.ParameterSetting,"InletPipeResistanceLoss",t)},expression:"TestSettingObj.ParameterSetting.InletPipeResistanceLoss"}})],1),a("el-form-item",{attrs:{label:"潜水泵安装高度"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TestSettingObj.ParameterSetting.HeightOfSubmersiblePump,callback:function(t){e.$set(e.TestSettingObj.ParameterSetting,"HeightOfSubmersiblePump",t)},expression:"TestSettingObj.ParameterSetting.HeightOfSubmersiblePump"}})],1),a("el-form-item",{attrs:{label:"平均次数"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TestSettingObj.ParameterSetting.AverageNumber,callback:function(t){e.$set(e.TestSettingObj.ParameterSetting,"AverageNumber",t)},expression:"TestSettingObj.ParameterSetting.AverageNumber"}})],1),a("el-form-item",{attrs:{label:"采集周期"}},[a("el-input",{attrs:{size:"small"},model:{value:e.TestSettingObj.ParameterSetting.AcquisitionCycle,callback:function(t){e.$set(e.TestSettingObj.ParameterSetting,"AcquisitionCycle",t)},expression:"TestSettingObj.ParameterSetting.AcquisitionCycle"}})],1)],1),a("el-row",[a("el-checkbox",{model:{value:e.TestSettingObj.ParameterSetting.RemoveMaxMinGetAverage,callback:function(t){e.$set(e.TestSettingObj.ParameterSetting,"RemoveMaxMinGetAverage",t)},expression:"TestSettingObj.ParameterSetting.RemoveMaxMinGetAverage"}},[e._v(" 去最大值,最小值求平均值 ")]),a("el-checkbox",{model:{value:e.TestSettingObj.ParameterSetting.SumAverage,callback:function(t){e.$set(e.TestSettingObj.ParameterSetting,"SumAverage",t)},expression:"TestSettingObj.ParameterSetting.SumAverage"}},[e._v(" 和值求平均 ")])],1),a("el-row",[a("div",[a("p",[e._v("转速换算公式")]),a("el-radio",{attrs:{label:"GB/t3216-2016"},model:{value:e.TestSettingObj.FormulaSetting.SpeedConversionFormula,callback:function(t){e.$set(e.TestSettingObj.FormulaSetting,"SpeedConversionFormula",t)},expression:"TestSettingObj.FormulaSetting.SpeedConversionFormula"}},[e._v(" GB/t3216-2016 ")]),a("el-radio",{attrs:{label:"other"},model:{value:e.TestSettingObj.FormulaSetting.SpeedConversionFormula,callback:function(t){e.$set(e.TestSettingObj.FormulaSetting,"SpeedConversionFormula",t)},expression:"TestSettingObj.FormulaSetting.SpeedConversionFormula"}},[e._v(" 其他 ")])],1)])],1)],1)},i=[],s=a("eb2f"),l={name:"TestSetting",data:function(){return{TestSettingObj:{BasicSetting:{testPrecision:"1",dengji_test:"2U"},FormulaSetting:{SpeedConversionFormula:"GB/t3216-2016"},ParameterSetting:{RemoveMaxMinGetAverage:!1,SumAverage:!1},StabilitySetting:{FlowHeadEfficiency:"GB/T3216-2016",Speed:"GB/T3216-2016"},QualifiedConditionsSetting:{QualifiedConditions:"GB/T3216-2016"},FluctuationSetting:{}},qConditions:"GB/T3216-2016",toleranceList:{"1U":{tHf:.06,th_down:0,tQz:.1,tq_down:0,tp_up:.1,te_down:0},"1E":{tHf:.03,th_down:-.03,tQz:.05,tq_down:-.05,tp_up:.04,te_down:0},"1B":{tHf:.03,th_down:-.03,tQz:.05,tq_down:-.05,tp_up:.04,te_down:-.03},"2B":{tHf:.05,th_down:-.05,tQz:.08,tq_down:-.08,tp_up:.08,te_down:-.05},"2U":{tHf:.1,th_down:0,tQz:.16,tq_down:0,tp_up:.16,te_down:-.05},"3B":{tHf:.07,th_down:-.07,tQz:.09,tq_down:-.09,tp_up:.09,te_down:-.07}},curentConditonObj:{}}},computed:{taskid:function(){return this.$route.query.taskid},levelOptions:function(){return["1U","1B","1E","2U","2B","3B"]},fileDomain:function(){return this.$getUrlPrefix(this.$Cookies.get("fileserver"))}},created:function(){},mounted:function(){this.curentConditonObj=this.toleranceList["2U"],s["eventBus"].$on("taskdialog",this.resetForm)},beforeDestroy:function(){s["eventBus"].$off("taskdialog")},methods:{toleranceChange:function(e){this.curentConditonObj=JSON.parse(JSON.stringify(this.toleranceList[e]))},qConditionsChange:function(e){"other"!=e&&(this.curentConditonObj=JSON.parse(JSON.stringify(this.toleranceList[this.TestSettingObj.BasicSetting.dengji_test])))},resetForm:function(e){this.$refs["formRef"].resetFields()},fillFormData:function(e){Object.assign(this.TestSettingObj,e)},getFormData:function(){return{BasicSetting:{testPrecision:this.TestSettingObj.BasicSetting.testPrecision,dengji_test:this.TestSettingObj.BasicSetting.dengji_test,AcceptParam:this.curentConditonObj},FormulaSetting:this.TestSettingObj.FormulaSetting,ParameterSetting:this.TestSettingObj.ParameterSetting,StabilitySetting:this.TestSettingObj.StabilitySetting,QualifiedConditionsSetting:this.TestSettingObj.QualifiedConditionsSetting}}}},r=l,o=(a("3cae"),a("2877")),c=Object(o["a"])(r,n,i,!1,null,null,null);t["default"]=c.exports},eb08:function(e,t,a){"use strict";a("fd62")},ec6f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"TaskFormBasic"},[a("el-form",{ref:"formRef",attrs:{model:e.addDetectionTaskform,rules:e.formRule,"label-width":"120px",disabled:""}},[a("el-divider",{staticStyle:{color:"blue"},attrs:{"content-position":"left"}},[e._v(" 检测任务基本信息 ")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"},[a("el-form-item",{attrs:{label:"任务名称：",prop:"task_name"}},[a("el-input",{staticStyle:{width:"100%"},model:{value:e.addDetectionTaskform.task_name,callback:function(t){e.$set(e.addDetectionTaskform,"task_name",t)},expression:"addDetectionTaskform.task_name"}})],1),a("el-form-item",{attrs:{label:"质检项目",prop:"reportId"}},[a("el-select",{staticStyle:{width:"100%"},on:{change:e.changeReport},model:{value:e.addDetectionTaskform.selectDefault,callback:function(t){e.$set(e.addDetectionTaskform,"selectDefault",t)},expression:"addDetectionTaskform.selectDefault"}},e._l(e.addDetectionTaskform.reportList,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:t}})})),1)],1)],1)]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-form-item",{attrs:{label:"开始时间：",prop:"starttime"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp"},model:{value:e.addDetectionTaskform.starttime,callback:function(t){e.$set(e.addDetectionTaskform,"starttime",t)},expression:"addDetectionTaskform.starttime"}})],1),a("el-form-item",{attrs:{label:"结束时间：",prop:"endtime"}},[a("el-date-picker",{attrs:{type:"datetime","value-format":"timestamp"},model:{value:e.addDetectionTaskform.endtime,callback:function(t){e.$set(e.addDetectionTaskform,"endtime",t)},expression:"addDetectionTaskform.endtime"}})],1)],1)])],1),a("el-divider",{staticStyle:{color:"blue"},attrs:{"content-position":"left"}},[e._v(" 检测资源信息 ")]),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple"})]),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"grid-content bg-purple-light"},[a("el-form-item",{attrs:{label:"测试台体",prop:"bedname"}},[a("el-select",{on:{change:e.changeBed},model:{value:e.addDetectionTaskform.bedIndex,callback:function(t){e.$set(e.addDetectionTaskform,"bedIndex",t)},expression:"addDetectionTaskform.bedIndex"}},e._l(e.testbedlist,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:t}})})),1)],1)],1)])],1)],1)],1)},i=[],s=a("5530"),l=(a("4de4"),a("159b"),a("b0c0"),a("d3b7"),a("5880")),r=a("eb2f"),o={name:"TaskFormBasic",data:function(){return{test:"aaaa",pumpusetype:["计量泵","给水泵","排水泵","疏水泵","喷灌泵","增压泵","排污泵"],pumpmodel:["离心泵","潜水泵","混流泵","螺杆泵","轴流泵","旋涡泵","电动泵","蒸汽泵","齿轮泵","罗茨泵","滑片泵","喷射泵","升液泵","电磁泵"],standard:{},addDetectionTaskform:{endtime:"",starttime:"",bedIndex:0,entrust:"",entrustphone:"",task_name:"",reportId:"",selectDefault:0,selectedInsectionItem:{},selectedBedItem:{}},formRule:{task_name:[{required:!0,message:"请输入任务名称",trigger:"blur"}],bedIndex:[{required:!0,message:"请选择测试台体",trigger:"change"}],endtime:[{required:!0,message:"请选择结束时间",trigger:"change"}],starttime:[{required:!0,message:"请选择开始时间",trigger:"change"}]},modulelist:[],reportTaskid:"",departmentname:"",laboratoryname:"",departmentpump:[],departmentlaboratory:[],testbedlist:[]}},computed:Object(s["a"])({taskid:function(){return this.$route.query.taskid},fileDomain:function(){return this.$getUrlPrefix(this.$Cookies.get("fileserver"))}},Object(l["mapState"])({currentTask:function(e){return e.deviceData.currentTask}})),created:function(){},mounted:function(){this.getStandard(),this.getTestBedDevices(),r["eventBus"].$on("taskdialog",this.resetForm),r["eventBus"].$on("edit",this.fillEditData)},beforeDestroy:function(){r["eventBus"].$off("taskdialog")},methods:{resetForm:function(e){this.$refs["formRef"].resetFields(),this.getStandard()},fillFormData:function(e){Object.assign(this.addDetectionTaskform,e)},fillEditData:function(e){var t=this;this.$axiosWen.get("iotapi/classes/Device",{params:{include:"product",order:"-createdAt",where:{}}}).then((function(a){a&&a.results&&(t.testbedlist=a.results.filter((function(e){if(e.product)return"shuwa_iot_hub"==e.product.devType})),t.testbedlist.forEach((function(a,n){if(a.name==e.basedata.bedname)return t.addDetectionTaskform.bedIndex=n,!1})))})).catch((function(e){})),this.addDetectionTaskform={task_name:e.name,reportList:this.addDetectionTaskform.reportList,reportId:e.basedata.reportId,bedIndex:this.addDetectionTaskform.bedIndex,endtime:e.basedata.endtime,starttime:e.basedata.starttime,selectDefault:this.addDetectionTaskform.selectDefault}},getFormData:function(){var e=this;return new Promise((function(t,a){e.$refs["formRef"].validate((function(n){if(n){var i={reportId:e.selectedInsectionItem.objectId,insectionName:e.selectedInsectionItem.name,reportList:e.addDetectionTaskform.reportList,endtime:e.addDetectionTaskform.endtime,starttime:e.addDetectionTaskform.starttime,bedname:e.selectedBedItem.name,bedaddr:e.selectedBedItem.devaddr,devType:e.selectedInsectionItem.devType,name:e.addDetectionTaskform.task_name};t(i)}else e.$message.error("有必填项未填写 !"),a(null)}))}))},resetformula:function(){this.formulaForm={n:"",density:"",g:"",d1:"",d2:"",z1:"",z2:"",c1:"",c2:"",c3:"",C4:""}},changeReport:function(e){this.selectedInsectionItem=this.addDetectionTaskform.reportList[e]},changeBed:function(e){this.selectedBedItem=this.testbedlist[e]},getStandard:function(){var e=this;this.$axiosWen.get("iotapi/classes/Product",{params:{where:{category:"Evidence",nodeType:1},order:"-updatedAt"}}).then((function(t){t&&(e.addDetectionTaskform.reportList=t.results,e.addDetectionTaskform.selectDefault=0,e.selectedInsectionItem=t.results[0])}))},getTestBedDevices:function(){var e=this;this.$axiosWen.get("iotapi/classes/Device",{params:{include:"product",order:"-createdAt",where:{}}}).then((function(t){t&&t.results&&(e.testbedlist=t.results.filter((function(e){if(e.product)return"shuwa_iot_hub"==e.product.devType})),e.selectedBedItem=e.testbedlist[0])})).catch((function(e){}))}}},c=o,u=a("2877"),d=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=d.exports},f28e:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"verify"},[a("PerformanceCurve"),a("div",{staticClass:"pageSelect-box"},[a("el-select",{attrs:{placeholder:"选择"},on:{change:e.pageSelect},model:{value:e.childPageIndex,callback:function(t){e.childPageIndex=t},expression:"childPageIndex"}},e._l(e.childPages,(function(e,t){return a("el-option",{key:t,attrs:{label:t+1,value:t}})})),1)],1),a("div",{staticClass:"evidence-box",style:e.evidenceCSS},[a("el-row",{staticClass:"info-box-item",attrs:{gutter:20,type:"flex",align:"middle"}},[a("el-col",{attrs:{span:2}},[a("i",{staticClass:"el-icon-microphone"})]),a("el-col",{attrs:{span:20}},[a("div",{staticClass:"media-box-audio"},[a("div",{attrs:{id:"waveform"}})])]),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"m-list"},[a("el-button",{attrs:{size:"small"},on:{click:e.showCurve}},[e._v("曲线")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.mediaIndex.audio,callback:function(t){e.$set(e.mediaIndex,"audio",t)},expression:"mediaIndex.audio"}},e._l(e.categories.audio,(function(e,t){return a("el-option",{key:t,attrs:{label:t+1,value:t}})})),1)],1)])],1),a("el-row",{staticClass:"info-box-item large",attrs:{gutter:20,align:"middle"}},[a("el-col",{attrs:{span:10}},[a("div",{staticClass:"media-box",class:{isplay:e.currentVideoUrl},style:e.mediaBoxCss},[e.currentVideoUrl?a("video",{style:e.mediaBoxCss,attrs:{src:e.fileDomain+e.currentVideoUrl,controls:"controls",type:"video/mp4",autoplay:"autoplay"}}):e._e(),a("p")])]),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"m-list"},[a("p",[a("i",{staticClass:"el-icon-back"}),e._v(" 视频 "),a("i",{staticClass:"el-icon-film"})]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.mediaIndex.video,callback:function(t){e.$set(e.mediaIndex,"video",t)},expression:"mediaIndex.video"}},e._l(e.categories.video,(function(e,t){return a("el-option",{key:t,attrs:{label:t+1,value:t}})})),1)],1),a("div",{staticClass:"m-list"},[a("p",{staticStyle:{"text-align":"right"}},[a("i",{staticClass:"el-icon-picture"}),e._v(" 图片 "),a("i",{staticClass:"el-icon-right"})]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.mediaIndex.image,callback:function(t){e.$set(e.mediaIndex,"image",t)},expression:"mediaIndex.image"}},e._l(e.categories.image,(function(e,t){return a("el-option",{key:t,attrs:{label:t+1,value:t}})})),1)],1)]),a("el-col",{attrs:{span:10}},[a("div",{staticClass:"media-box",class:{isplay:e.currentImageUrl},style:e.mediaBoxCss},[e.currentImageUrl?a("img",{style:e.mediaBoxCss,attrs:{src:e.fileDomain+e.currentImageUrl}}):e._e()])]),a("el-col",{attrs:{span:2}},[a("div",{staticClass:"content"}),a("div",{staticClass:"m-list"},[a("p",{staticStyle:{"text-align":"center","font-size":"32px"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击查看文件",placement:"top-start"}},[a("el-button",{on:{click:function(t){e.pdfDialogVisible=!0}}},[a("span",{staticStyle:{"font-size":"32px"}},[a("i",{staticClass:"el-icon-document"})])])],1)],1),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.mediaIndex.file,callback:function(t){e.$set(e.mediaIndex,"file",t)},expression:"mediaIndex.file"}},e._l(e.categories.file,(function(e,t){return a("el-option",{key:t,attrs:{label:t+1,value:t}})})),1)],1)])],1)],1),a("el-dialog",{attrs:{visible:e.pdfDialogVisible,title:"取证文件查看",width:"60%"},on:{"update:visible":function(t){e.pdfDialogVisible=t}}},[a("div",{staticClass:"pdf-box"},[e.currentFileUrl?a("iframe",{staticStyle:{width:"100%","min-height":"500px"},attrs:{src:e.fileDomain+e.currentFileUrl,frameborder:"0"}}):e._e(),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.currentFileUrl,expression:"!currentFileUrl"}],staticStyle:{"font-size":"20px","text-align":"center"}},[e._v(" 当前没有选定文件 ")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.pdfDialogVisible=!1}}},[e._v(" 确 定 ")])],1)]),a("el-dialog",{attrs:{visible:e.curveDialogVisible,"close-on-click-modal":!1,title:"性能曲线",width:"70%"},on:{"update:visible":function(t){e.curveDialogVisible=t}}},[a("PerformanceCurveNew",{ref:"PerformanceCurveNew"}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.curveDialogVisible=!1}}},[e._v(" 确 定 ")])],1)],1)],1)},i=[],s=a("5530"),l=(a("159b"),a("caad"),a("5880")),r=a("eb2f"),o=a("1653"),c=a("57be"),u={name:"Verify",components:{PerformanceCurve:o["default"],PerformanceCurveNew:c["default"]},data:function(){return{evidenceCSS:{},mediaBoxCss:{},currentPageId:"",childPages:[],childPageIndex:null,categories:{video:[],audio:[],image:[],file:[]},mediaIndex:{video:null,audio:null,image:null,file:null},wavesurfer:null,pdfDialogVisible:!1,pdfurl:"",curveDialogVisible:!1}},computed:Object(s["a"])({taskid:function(){return this.$route.query.taskid},fileDomain:function(){return this.$getUrlPrefix(this.$Cookies.get("fileserver"))},currentImageUrl:function(){var e="";return this.categories.image.length>0&&(e=this.categories.image[this.mediaIndex.image]["original"]["data"]["src"]),e},currentVideoUrl:function(){var e="";return this.categories.video.length>0&&(e=this.categories.video[this.mediaIndex.video]["original"]["data"]["src"]),e},currentAudioUrl:function(){var e="";return this.categories.audio.length>0&&(e=this.categories.audio[this.mediaIndex.audio]["original"]["data"]["src"]),e},currentFileUrl:function(){var e="";return this.categories.file.length>0&&(e=this.categories.file[this.mediaIndex.file]["original"]["data"]["src"]),e},currentChildPageData:function(){return null!=this.childPageIndex&&this.childPageIndex>=0?this.childPages[this.childPageIndex]:null}},Object(l["mapState"])({currentTask:function(e){return e.deviceData.currentTask}})),created:function(){window.addEventListener("resize",this.getHeight),this.getHeight()},mounted:function(){var e=this;r["eventBus"].$on("chartClick",this.chartClickHnadle),this.getChildDevice(this.taskid),this.wavesurfer=WaveSurfer.create({container:"#waveform",height:"128",mediaControls:!0,cursorColor:"#409EFF"}),this.wavesurfer.on("ready",(function(){e.wavesurfer.play()}))},beforeDestroy:function(){this.wavesurfer.empty(),r["eventBus"].$off("chartClick",this.chartClickHnadle)},methods:{showCurve:function(){var e=this;this.curveDialogVisible=!0,this.$nextTick((function(){e.$refs["PerformanceCurveNew"].initData()}))},getHeight:function(){var e=window.innerHeight-440;this.evidenceCSS.height=Math.ceil(e)+"px",this.mediaBoxCss.height=Math.ceil(.75*e)+"px"},submitVerify:function(){},mediaSwitch:function(e,t){},chartClickHnadle:function(e){var t=this;this.resetOptionData(0);var a=e.timestamp-100,n=e.timestamp+100;this.getEvidence(this.currentPageId,a,n).then((function(e){t.categories={video:[],audio:[],image:[],file:[]};var a=["video","audio","image","file"];if(e&&e.results&&e.results.length>0){var n=e.results;n.forEach((function(e){if(e["original"]&&e["original"].datatype){var n=e["original"].datatype;a.includes(n)&&t.categories[n].push(e)}})),t.wavesurfer.load(t.fileDomain+t.currentAudioUrl)}}))},pageSelect:function(e){this.childPageIndex=e,this.resetOptionData(null),this.categories={video:[],audio:[],image:[],file:[]},this.currentPageId=this.currentChildPageData["objectId"],this.$store.commit("updateCurrentChildPageData",this.currentChildPageData),r["eventBus"].$emit("childPageChange",this.currentPageId)},resetOptionData:function(e){this.mediaIndex={video:e,audio:e,image:e,file:e},this.wavesurfer.empty()},getEvidence:function(e,t,a){var n={};this.$dateTostamp(this.currentTask.createdAt);return n["original.sourceType"]="iPad",this.$axiosWen.get("/classes/Evidence",{params:{order:"-timestamp",limit:"500",where:JSON.stringify(n),keys:"scene,original,timestamp,count(*)"}})},getChildDevice:function(e){var t=this;if(e){var a={parentId:{__type:"Pointer",className:"Device",objectId:e}};this.$axiosWen.get("/classes/Device/",{params:{keys:"count(*)",where:JSON.stringify(a),order:"createdAt"}}).then((function(e){e&&(t.maxtotal=e.count,t.childPages=e.results)})).catch((function(e){}))}}}},d=u,p=(a("22d3"),a("2877")),m=Object(p["a"])(d,n,i,!1,null,null,null);t["default"]=m.exports},f391:function(e,t,a){"use strict";a("4386")},f4cc:function(e,t,a){},f5e4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"edituser"},[a("div",{staticClass:"admin",staticStyle:{"margin-bottom":"20px"}},[e._v(" "+e._s(e.$translateTitle("developer.edituser"))+" ")]),a("el-form",{ref:"ruleForm2",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"status-icon":"","label-width":"100px"}},[a("el-form-item",{attrs:{label:e.$translateTitle("user.account"),prop:"account"}},[a("el-input",{attrs:{placeholder:e.$translateTitle("product.enteraccount")},model:{value:e.ruleForm2.account,callback:function(t){e.$set(e.ruleForm2,"account",t)},expression:"ruleForm2.account"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("product.phone"),prop:"phone"}},[a("el-input",{attrs:{maxlength:11,placeholder:e.$translateTitle("product.enterphonenumber")},model:{value:e.ruleForm2.phone,callback:function(t){e.$set(e.ruleForm2,"phone",t)},expression:"ruleForm2.phone"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("user.email"),prop:"email"}},[a("el-input",{attrs:{placeholder:e.$translateTitle("product.enteremail")},model:{value:e.ruleForm2.email,callback:function(t){e.$set(e.ruleForm2,"email",t)},expression:"ruleForm2.email"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("user.name1"),prop:"username"}},[a("el-input",{attrs:{maxlength:5,placeholder:e.$translateTitle("product.eqwords1")},model:{value:e.ruleForm2.username,callback:function(t){e.$set(e.ruleForm2,"username",t)},expression:"ruleForm2.username"}})],1),a("el-form-item",{attrs:{label:e.$translateTitle("developer.departmentselection")}},[a("el-cascader",{staticStyle:{width:"600px"},attrs:{props:e.treeprops,options:e.data,"show-all-levels":!1,placeholder:e.$translateTitle("product.selectdepartment"),"auto-complete":"off","change-on-select":""},model:{value:e.ruleForm2.departmentid,callback:function(t){e.$set(e.ruleForm2,"departmentid",t)},expression:"ruleForm2.departmentid"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submit_edituser(e.ruleForm2)}}},[e._v(" "+e._s(e.$translateTitle("product.preservation"))+" ")])],1)],1)],1)},i=[],s=a("1da1"),l=(a("159b"),a("96cf"),a("8665")),r=a("5da9"),o={data:function(){return{data:[],treeprops:{value:"objectId",label:"name"},ruleForm2:{account:"",phone:"",username:"",password:"",email:"",checkPass:"",departmentid:[]},id:""}},computed:{},mounted:function(){this.editUser()},methods:{submit_edituser:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a={username:t.ruleForm2.account,nick:t.ruleForm2.username,phone:t.ruleForm2.phone,email:t.ruleForm2.email,emailVerified:!0},e.next=3,Object(l["putUser"])(t.$route.query.id,a);case 3:n=e.sent,n?t.$message({message:"更改成功",type:"success"}):t.$message({type:"error",message:"修改用户失败"});case 5:case"end":return e.stop()}}),e)})))()},editUser:function(){var e=this;Object(l["getUser"])(this.$route.query.id).then((function(t){e.ruleForm2.username=t.nick,e.ruleForm2.phone=t.phone,e.ruleForm2.account=t.username,e.ruleForm2.email=t.email,e.getDepartment()})).catch((function(t){e.$message({type:"error",message:"用户详情获取失败"})}))},getDepartment:function(){var e=this;Object(r["roletree"])().then((function(t){var a=t.results;a.forEach((function(e){})),e.data=t.results})).catch((function(t){e.$message("部门列表获取失败"),e.data=[]}))}}},c=o,u=(a("aab9"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,"69f845d1",null);t["default"]=d.exports},fd62:function(e,t,a){}}]);